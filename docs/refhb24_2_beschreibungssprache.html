<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>Beschreibungssprache</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_beschreibungssprache">Beschreibungssprache</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_verwendete_syntax">Verwendete Syntax</h3>
<div class="paragraph">
<p>Zur Festlegung des konzeptionellen Datenmodells (Datenschemas) und der Transferparameter eines Datentransfers wird in den folgenden Kapiteln eine formale Sprache definiert. Diese Sprache ist selbst formal definiert. Syntaxregeln beschreiben dabei die zulässige Reihenfolge von Symbolen.</p>
</div>
<div class="paragraph">
<p>Die Beschreibung folgt damit der Art und Weise, die bei der Beschreibung moderner Programmiersprachen üblich ist. Hier wird deshalb nur eine knappe, für das Verständnis nötige Darstellung angegeben. Für Einzelheiten wird auf die Literatur verwiesen. Eine kurze Einführung befindet sich z.B. in «Programmieren in Modula-2» von Niklaus Wirth.</p>
</div>
<div class="paragraph">
<p>Eine Formel wird im Sinne der erweiterten Backus-Naur-Notation (EBNF) wie folgt aufgebaut:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Formel-Name = Formel-Ausdruck.</pre>
</div>
</div>
<div class="paragraph">
<p>Der Formel-Ausdruck ist eine Kombination von:
-	fixen Wörtern (inkl. Spezialzeichen) der Sprache. Sie werden in Apostrophe eingeschlossen, z.B. <code>'BEGIN'</code>.
-	Referenzen von anderen Formeln durch Angabe des Formelnamens.</p>
</div>
<div class="paragraph">
<p>Als Kombination kommen in Frage:</p>
</div>
<div class="listingblock">
<div class="title">Aneinanderreihung</div>
<div class="content">
<pre>a b c         zuerst a, dann b, dann c.</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Gruppierung</div>
<div class="content">
<pre>( a )         runde Klammern gruppieren Formel-Ausdrücke.</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Auswahl</div>
<div class="content">
<pre>a | b | c     a, b oder c.</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Option</div>
<div class="content">
<pre>[ a ]         a oder nichts (leer).</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Fakultative Wiederholung</div>
<div class="content">
<pre>{ a }         beliebige Folgen von a oder nichts (leer).</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Obligatorische Wiederholung (als Zusatz zur EBNF)</div>
<div class="content">
<pre>(* a *)       beliebige Folge von a, aber mindestens eins.</pre>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 1. Beispiele von Formel-Ausdrücken:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>(a|b)(c|d)    ac, ad, bc oder bd
a[b]c         abc oder ac
a{ba}         a, aba, ababa, abababa, ...
{a|b}c        c, ac, bc, aac, abc, bbc, bac, ...
a(*b*)        ab, abb, abbb, abbbb, ...
(*ab|[c]d*)   ab, d, cd, abd, dab, cdab, ababddd, cdababcddcd, ...</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Häufig möchte man eine syntaktisch gleiche Formel in verschiedenen Zusammenhängen, für verschiedene Zwecke verwenden. Um diesen Zusammenhang auch ausdrücken zu können, müsste man eine zusätzliche Formel schreiben:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Example = 'CLASS' Classname '=' Classdef.
Classname = Name.</pre>
</div>
</div>
<div class="paragraph">
<p>Damit dieser Umweg vermieden werden kann, wird folgende abgekürzte Schreibweise angewendet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Example = 'CLASS' Class-Name '=' Classdef.</pre>
</div>
</div>
<div class="paragraph">
<p>Die Formel Class-Name wird nicht definiert. Syntaktisch kommt direkt die Regel "Name" zur Anwendung (vgl. Kapitel 2.2.2 Namen). Von der Bedeutung her ist der Name jedoch ein Klassenname. "Class" wird damit quasi zu einem Kommentar.</p>
</div>
</div>
<div class="sect2">
<h3 id="_grundsymbole_der_sprache">Grundsymbole der Sprache</h3>
<div class="paragraph">
<p>Die Beschreibungssprache weist die folgenden Symbol-Klassen auf: Namen, Zeichenketten, Zahlen, Erläuterungen, Sonderzeichen, reservierte Wörter und Kommentare.</p>
</div>
<div class="sect3">
<h4 id="_zeichenvorrat_zwischenräume_und_zeilenenden">Zeichenvorrat, Zwischenräume und Zeilenenden</h4>
<div class="paragraph">
<p>Die eigentliche Sprache verwendet nur die druckbaren US-ASCII-Zeichen (32 bis 126). Welche Zeichen nebst dem Leerzeichen als Zwischenräume gelten, ist durch die konkrete Compiler-Implementation festzulegen. Diese legt auch fest, welche Zeichen oder Zeichenkombinationen als Zeilenende gelten. Wie die Zeichen gespeichert werden (Zeichensatz) ist Sache der Implementation des Compilers. Sie kann insbesondere je nach Plattform unterschiedlich sein.</p>
</div>
<div class="paragraph">
<p>Im Rahmen von Kommentaren dürfen auch weitere Zeichen (z.B. Umlaute und Akzente) vorkommen.</p>
</div>
</div>
<div class="sect3">
<h4 id="_namen">Namen</h4>
<div class="paragraph">
<p>Ein Name ist definiert als eine Folge von maximal 255 Buchstaben, Ziffern und Unterstrichen, wobei das erste Zeichen ein Buchstabe sein muss. Gross- und Kleinbuchstaben werden dabei unterschieden. Namen, die mit reservierten Wörtern der Sprache (vgl. Kapitel 2.2.7 Sonderzeichen und reservierte Wörter) zusammenfallen, sind unzulässig.</p>
</div>
<a href="#2_2_C1">&#x203B</a>
<div id="2_2_C1" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>Name = Letter { Letter | Digit | '_' }.
Letter = ( 'A' | .. | 'Z' | 'a' | .. | 'z' ).
Digit = ( '0' | '1' | .. | '9' ).
HexDigit = ( Digit | 'A' | .. | 'F' | 'a' | .. | 'f' ).</pre>
</div>
</div>
<div class="paragraph">
<p>Näheres zur Eindeutigkeit und zum Gültigkeitsbereich von Namen ist im Kapitel 2.5.4 Namensräume beschrieben.</p>
</div>
</div>
<div class="sect3">
<h4 id="_zeichenketten">Zeichenketten</h4>
<div class="paragraph">
<p>Zeichenketten (Strings) kommen im Zusammenhang mit Konstanten vor. Sie beginnen und enden mit einem Anführungszeichen und dürfen sich nicht über mehrere Zeilen erstrecken. <code>\"</code> steht für ein Anführungszeichen und <code>\\</code> für einen «Backslash» innerhalb des Strings.</p>
</div>
<div class="paragraph">
<p>Eine Sequenz von <code>\u</code>, unmittelbar gefolgt von exakt vier Hexadezimalziffern, steht für ein beliebiges Unicode-Zeichen. Zeichen ab U+10000 sind wie in der UTF-16-Codierung mit zwei Surrogatcodes zu bezeichnen (siehe <a href="https://www.unicode.org" class="bare">https://www.unicode.org</a>).</p>
</div>
<a href="#2_2_C2">&#x203B</a>
<div id="2_2_C2" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>String = '"' { &lt;any character except '\' or '"'&gt;
             | '\"'
             | '\\'
             | '\u' HexDigit HexDigit HexDigit HexDigit
             } '"'.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_zahlen">Zahlen</h4>
<div class="paragraph">
<p>Zahlen kommen in verschiedener Weise vor: Positive ganze Zahlen inklusive 0 (PosNumber), ganze Zahlen (Number), Dezimalzahlen (Dec) und strukturierte Zahlen. Bei Dezimalzahlen kann die Skalierung als Zehnerpotenz angegeben werden (z.B. 1E2 ist 100, 1E-1 ist 0.1). Strukturierte Zahlen machen nur im Zusammenhang mit entsprechenden Einheiten und Wertebereichen (z.B. Uhrzeit) einen Sinn. Wesentlich ist der Wert der Zahl, nicht deren Darstellung. So ist etwa 007 dieselbe Zahl wie 7.</p>
</div>
<a href="#2_2_C3">&#x203B</a>
<div id="2_2_C3" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>PosNumber = (* Digit *).
Number = [ '+' | '-' ] PosNumber.
Dec = ( Number [ '.' PosNumber ] | Float ).
Float = [ '+' | '-' ] '0.' ( ( '1' | '2' | .. | '9' ) [ PosNumber ]
                             | (* '0' *) ) Scaling.
Scaling = ( 'e' | 'E' ) Number.</pre>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 2. Beispiele:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>PosNumber:   5134523              1           23
Number:          123           -435        +5769
Dec:         123.456     0.123456e4    -0.123e-2
Float:         0.1e7   -0.123456E+4   0.987e-100</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_eigenschaftsmengen">Eigenschaftsmengen</h4>
<div class="paragraph">
<p>Für verschiedene Zwecke müssen einem Beschreibungsgegenstand Eigenschaften zugeordnet werden. Dies kann mit einer generellen Syntax erfolgen:</p>
</div>
<a href="#2_2_C4">&#x203B</a>
<div id="2_2_C4" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>Properties = [ '(' Property { ',' Property } ')' ].</pre>
</div>
</div>
<div class="paragraph">
<p>Um zu definieren, dass an einer bestimmten Stelle einer Syntaxregel solche Eigenschaften definiert werden sollen, wird in der Syntax folgendes Konstrukt eingefügt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>'Properties' '&lt;' Property-Keyword { ',' Property-Keyword } '&gt;'</pre>
</div>
</div>
<div class="paragraph">
<p>Man schreibt also "Properties" und definiert in spitzen Klammern die zulässigen Schlüsselwörter. Nimmt man als Beispiel die Regel ClassDef (vgl. Kapitel 2.5.3 Klassen und Strukturen) werden mit <code>"Properties&lt;ABSTRACT,EXTENDED,FINAL&gt;"</code> die Schlüsselwörter <code>"ABSTRACT"</code>, <code>"EXTENDED"</code> und <code>"FINAL"</code> für die Beschreibung von Eigenschaften akzeptiert. In einer INTERLIS 2-Definition wären dann unter anderem folgende Definitionen möglich:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CLASS A (ABSTRACT) = .....
CLASS A (EXTENDED, FINAL) = .....</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_erläuterungen">Erläuterungen</h4>
<div class="paragraph">
<p>Erläuterungen werden dort verlangt, wo ein Sachverhalt näher beschrieben werden muss. Aus der Sicht des Standard-Mechanismus wird die Erläuterung nicht weiter interpretiert, also als Kommentar aufgefasst. Es ist aber durchaus zulässig, Erläuterungen detaillierter zu formalisieren und damit einer weitergehenden maschinellen Verarbeitung zugänglich zu machen. Als Anfang und Abschluss einer Erläuterung wurde <code>//</code> gewählt. Innerhalb der Erläuterung dürfen zwei aufeinander folgende Schrägstriche nie vorkommen.</p>
</div>
<a href="#2_2_C5">&#x203B</a>
<div id="2_2_C5" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>Explanation = '//' any character except // '//'.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_sonderzeichen_und_reservierte_wörter">Sonderzeichen und reservierte Wörter</h4>
<div class="paragraph">
<p>Sonderzeichen und reservierte Wörter sind in den Syntaxregeln der Sprache (nicht aber bei einer Datenbeschreibung) immer zwischen Apostrophen geschrieben, z.B. <code>','</code> oder <code>'MODEL'</code>. Die reservierten Wörter werden grundsätzlich mit Grossbuchstaben geschrieben. Konflikte zwischen Namen und reservierten Wörtern sind vermeidbar, wenn Namen nicht ausschliesslich aus Grossbuchstaben bestehen.
Es werden folgende reservierten Wörter verwendet (einige davon wurden in INTERLIS 1 bzw. 2.3 benutzt und bleiben aus Gründen der Kompatibilität reserviert; sie sind nicht fett und kursiv dargestellt):</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<caption class="title">Table 1. Reservierte Wörter in INTERLIS 2.</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ABSTRACT</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ACCORDING</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>AGGREGATES</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>AGGREGATION</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ALL</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>AND</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ANY</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ANYCLASS</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ANYSTRUCTURE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ARCS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>AREA</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>AS</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ASSOCIATION</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>AT</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ATTRIBUTE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>ATTRIBUTES</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>BAG</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>BASE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>BASED</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>BASKET</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>BINARY</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>BLACKBOX</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>BLANK</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>BOOLEAN</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>BY</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>CARDINALITY</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>CHARSET</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>CIRCULAR</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>CLASS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>CLOCKWISE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>CODE</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>CONSTRAINT</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>CONSTRAINTS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>CONTEXT</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>CONTINUE</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>CONTINUOUS</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>CONTOUR</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>CONTRACTED</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>COORD</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>COORD2</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>COORD3</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>COUNTERCLOCKWISE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>DATE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>DATETIME</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>DEFAULT</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>DEFERRED</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>DEFINED</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>DEGREES</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>DEPENDS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>DERIVATIVES</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>DERIVED</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>DIM1</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>DIM2</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>DIRECTED</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>DOMAIN</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>END</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ENUMTREEVAL</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ENUMVAL</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>EQUAL</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>EXISTENCE</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>EXTENDED</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>EXTENDS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>EXTERNAL</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>FINAL</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>FIRST</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>FIX</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>FONT</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>FORM</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>FORMAT</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>FREE</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>FROM</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>FUNCTION</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>GENERIC</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>GENERICS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>GRADS</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>GRAPHIC</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>HALIGNMENT</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>HIDING</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>I16</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>I32</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>IDENT</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>IMPORTS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>IN</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>INHERITANCE</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>INSPECTION</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>INTERLIS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>JOIN</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>LAST</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>LINE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>LINEATTR</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>LINESIZE</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>LIST</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>LNBASE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>LOCAL</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>MANDATORY</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>METAOBJECT</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>MODEL</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>MTEXT</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>MULTIAREA</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>MULTICOORD</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>MULTIPOLYLINE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>MULTISURFACE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>NAME</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>NO</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>NOINCREMENTALTRANSFER</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>NOT</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>NULL</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>NUMERIC</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>OBJECT</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>OBJECTS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>OF</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>OID</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ON</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>OPTIONAL</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>OR</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ORDERED</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>OTHERS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>OVERLAPS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>PARAMETER</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>PARENT</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>PERIPHERY</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>PI</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>POLYLINE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>PROJECTION</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>RADIANS</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>REFERENCE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>REFSYS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>REFSYSTEM</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>REQUIRED</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>RESTRICTION</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ROTATION</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>SET</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>SIGN</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>STRAIGHTS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>STRUCTURE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>SUBDIVISION</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>SURFACE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>SYMBOLOGY</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>TABLE</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>TEXT</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>THATAREA</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>THIS</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>THISAREA</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>TID</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>TIDSIZE</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>TIMEOFDAY</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>TO</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>TOPIC</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>TRANSFER</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>TRANSIENT</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>TRANSLATION</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>TYPE</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>UNDEFINED</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>UNION</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>UNIQUE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>UNIT</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>UNQUALIFIED</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>URI</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>VALIGNMENT</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>VERSION</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>VERTEX</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>VERTEXINFO</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>VIEW</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>WHEN</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>WHERE</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>WITH</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>WITHOUT</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>XMLNS</strong></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_kommentare">Kommentare</h4>
<div class="paragraph">
<p>Es werden zwei Kommentarformen angeboten:</p>
</div>
<div class="sect4">
<h5 id="_zeilenkommentar">Zeilenkommentar</h5>
<div class="paragraph">
<p>Ein Zeilenkommentar wird mit zwei Ausrufezeichen eröffnet, die unmittelbar aufeinander folgen. Der Zeilenkommentar wird durch das Zeilenende abgeschlossen.</p>
</div>
<a href="#2_2_C6">&#x203B</a>
<div id="2_2_C6" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>!! Line comment; goes until end of line</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_blockkommentar">Blockkommentar</h5>
<div class="paragraph">
<p>Der Blockkommentar wird durch einen Schrägstrich und einen Stern eingeleitet; abgeschlossen wird er durch einen Stern und einen Schrägstrich. Er darf sich über mehrere Zeilen hinweg erstrecken und seinerseits Zeilenkommentare enthalten. Geschachtelte Blockkommentare sind zugelassen.</p>
</div>
<a href="#2_2_C7">&#x203B</a>
<div id="2_2_C7" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>/* Block comment,
    additional line comment */</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hauptregel">Hauptregel</h3>
<div class="paragraph">
<p>Jede Beschreibungseinheit beginnt mit der Angabe der Sprach-Version. Damit wird die Basis für spätere Sprachzusätze gelegt. Die in diesem Dokument beschriebene Version von INTERLIS ist <strong>2.4</strong>.</p>
</div>
<div class="paragraph">
<p>Nachher folgen die Modellbeschreibungen.</p>
</div>
<a href="#2_3_C1">&#x203B</a>
<div id="2_3_C1" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>INTERLIS2Def = 'INTERLIS' Version-Dec ';'
               { ModelDef }.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_vererbung">Vererbung</h3>
<div class="paragraph">
<p>Verschiedene Konstrukte von INTERLIS können im Sinne der objekt-orientierten Denkweise erweitert werden: Eine erste Definition schafft die Grundlage, die dann in mehreren Schritten spezialisiert werden kann.</p>
</div>
<div class="paragraph">
<p>Themen, Klassen, Sichten, Grafikdefinitionen, Einheiten und Wertebereiche können die entsprechenden Grundkonstrukte erweitern (Schlüsselwort <code>EXTENDS</code> bzw. <code>EXTENDED</code>) und erben damit alle ihre Eigenschaften. Ein zuvor definiertes Konstrukt kann in bestimmten Fällen durch Angabe von <code>EXTENDED</code> unter Beibehaltung des Namens erweitert werden.</p>
</div>
<div class="paragraph">
<p>Mit <code>FINAL</code> wird das Erweitern einer Definition verhindert. Verschiedene Konstrukte können in einer noch unvollständigen Form (Schlüsselwort <code>ABSTRACT</code>) definiert werden; sie werden später in einer Erweiterung zu einer konkreten Definition ergänzt.</p>
</div>
<div class="paragraph">
<p>Um die in einem bestimmten Kontext zulässigen Schlüsselwörter anzugeben, wird jeweils die generelle Property-Schreibweise verwendet (vgl. Kapitel 2.2.5 Eigenschaftsmengen).</p>
</div>
</div>
<div class="sect2">
<h3 id="_modelle_themen_klassen">Modelle, Themen, Klassen</h3>
<div class="sect3">
<h4 id="_modelle">Modelle</h4>
<div class="paragraph">
<p>Als Modell wird eine in sich geschlossene, vollständige Definition bezeichnet. Je nach Art des Modells kann es verschiedene Konstrukte enthalten.</p>
</div>
<div class="paragraph">
<p>Ein reines Typenmodell (<code>TYPE MODEL</code>) darf nur Masseinheiten, Wertebereiche, Funktionen und Linienformen deklarieren.</p>
</div>
<div class="paragraph">
<p>Ein Referenzsystem-Modell (<code>REFSYSTEM MODEL</code>) soll nebst den Definitionen eines Typenmodells nur Themen und Klassen deklarieren, die im Bezug zu Erweiterungen der vordefinierten Klassen <code>AXIS</code> bzw. <code>REFSYSTEM</code> stehen (vgl. Kapitel 2.10.3 Referenzsysteme). Die Einhaltung dieser Regel kann durch die Sprache nicht erzwungen werden. Es ist Sache des Anwenders, sich daran zu halten.</p>
</div>
<div class="paragraph">
<p>Ein Signaturenmodell (<code>SYMBOLOGY MODEL</code>) soll nebst den Definitionen eines Typenmodells nur Themen und Klassen, die im Bezug zu Erweiterungen der vordefinierten Klasse <code>SIGN</code> stehen, sowie Laufzeitparameter deklarieren (vgl. Kapitel 2.16 Darstellungsbeschreibungen und Kapitel 2.11 Laufzeitparameter). Die Einhaltung dieser Regel ist ebenfalls Sache des Anwenders.</p>
</div>
<div class="paragraph">
<p>Wird keine solche einschränkende Modelleigenschaft definiert, darf ein Modell alle möglichen Konstrukte enthalten.</p>
</div>
<div class="paragraph">
<p>Nach dem Modellnamen kann optional die Sprache angegeben werden. Wenn möglich sollte die Angabe anhand der durch die ISO-Norm 639 standardisierten zwei-buchstabigen Bezeichnungen in Kleinbuchstaben erfolgen (siehe <a href="https://www.iso.org" class="bare">https://www.iso.org</a>); zum Beispiel steht "de" für Deutsch, "fr" für Französisch, "it" für Italienisch, "rm" für Rätoromanisch und "en" für Englisch. Durch einen Unterstrich getrennt darf ein Ländercode gemäss ISO-Norm 3166 nachgestellt werden, um die in einem bestimmten Land benutzte Varietät einer Sprache zu bezeichnen: "de_CH" steht für das in der Schweiz verwendete (Schrift-)Deutsch. Diese Angabe hat dokumentarischen Wert. Sie steht im Zusammenhang mit der Möglichkeit, ein Modell als eine Übersetzung eines anderen zu deklarieren (<code>TRANSLATION OF</code>). Die beiden Modelle müssen dann strukturell exakt übereinstimmen. Sie dürfen sich also nur in den verwendeten Namen unterscheiden. Die Deklaration als Übersetzung ist aber nicht an die Sprachangabe gebunden. Um z.B. lokale oder branchenspezifische Sprachgebräuche zu unterstützen, sind insbesondere auch Übersetzungen in die gleiche Sprache wie die Ursprungsbeschreibung zulässig.</p>
</div>
<div class="paragraph">
<p>Mit der Angabe <code>NOINCREMENTALTRANSFER</code> wird definiert, dass beim Datentransfer (vgl. Kapitel 3 Sequentieller Transfer) kein inkrementeller Transfer unterstützt werden muss.<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> Insbesondere enthält das aus dem Modell generierte XML-Schema keine entsprechenden Möglichkeiten.</p>
</div>
<div class="paragraph">
<p>Anschliessend wird mittels Angabe des entsprechenden URI (vgl. Kapitel 2.8.1 Zeichenketten) der Herausgeber des Modells identifiziert. Es wird erwartet, dass der Modellname in diesem Kontext eindeutig ist.</p>
</div>
<a href="#2_5_C1">&#x203B</a>
<div id="2_5_C1" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>ModelDef = [ 'CONTRACTED' ] [ 'TYPE' | 'REFSYSTEM' | 'SYMBOLOGY' ]
           'MODEL' Model-Name [ '(' Language-Name ')' ]
           [ 'NOINCREMENTALTRANSFER' ]
             'AT' URI-String
             'VERSION' ModelVersion-String [ Explanation ]
           [ 'TRANSLATION' 'OF' Model-Name '[' ModelVersion-String ']' ]
             '='
               [ 'CHARSET' IANA-Name-String ';' ]
               [ 'XMLNS' XMLNS-String ';' ]
               { 'IMPORTS' [ 'UNQUALIFIED' ] Model-Name
               { ',' [ 'UNQUALIFIED' ] Model-Name } ';' }
               { MetaDataBasketDef
               | UnitDef
               | FunctionDef
               | LineFormTypeDef
               | DomainDef
               | ContextDef
               | RunTimeParameterDef
               | ClassDef
               | StructureDef
               | TopicDef }
           'END' Model-Name '.'.</pre>
</div>
</div>
<div class="paragraph">
<p>Mit der Modellversion können verschiedene Versionen (insbesondere verschiedene Entwicklungsstufen) eines Modells unterschieden werden. In der Erläuterung können zusätzliche Angaben wie Hinweise zur Kompatibilität mit früheren Versionen gemacht werden. In einem bestimmten Zeitpunkt soll aber nur eine Modellversion bestehen. Deshalb wird beim Import von Modellen auch keine Version angegeben. Ist ein Modell eine Übersetzung eines anderen, ist dessen Version in eckigen Klammern anzugeben. Mit der Versionsangabe im Rahmen einer Übersetzungsdefinition (<code>TRANSLATION OF</code>) wird nur dokumentiert, auf Grund welcher Basisversion die Übersetzung erstellt wurde und mit welcher sie also auch strukturell exakt übereinstimmt.</p>
</div>
<div class="paragraph">
<p>Das Schlüsselwort <code>CONTRACTED</code> hat keine Funktion mehr, bleibt zur Kompatibilität hier aber zulässig.</p>
</div>
<div class="paragraph">
<p>Optional kann - eingeleitet durch das Schlüsselwort <code>CHARSET</code> - der Name eines Zeichensatzes definiert werden. Zulässige Namen werden durch IANA festgelegt.<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> Fehlt die Angabe, gilt der Zeichensatz gemäss Anhang D. Die Definition des Zeichensatzes definiert den Umfang an Zeichen die eine Software verarbeiten (wie z.B. Speichern, Suchen, Sortieren, Ausdrucken) können muss und nicht den im Transfer zulässigen Zeichensatz oder die zulässige Zeichencodierung (vgl. Kapitel 3.3.2 Zeichencodierung).</p>
</div>
<div class="paragraph">
<p>Mit der Angabe nach XMLNS kann optional für den XML-Transfer gemäss Kapitel 3 der XML-Namensraum<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup> festgelegt werden.<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup> Ohne Angabe ergibt sich der XML-Namensraum nach einer fixen Regel (vgl. Kapitel 3 Sequentieller Transfer) aus dem Namen des Modells.</p>
</div>
<div class="paragraph">
<p>Bezieht sich ein INTERLIS-Konstrukt auf eine Definition, die in einem anderen Modell vorgenommen wurde, muss dieses Modell importiert werden (Schlüsselwort <code>IMPORTS</code>). So können beispielsweise Themen erweitert und der Bezug auf Klassen geschaffen werden. <code>IMPORTS</code> eröffnet aber nur die Möglichkeit des Gebrauchs. Bei der Verwendung der importierten Definitionen, sind diese dennoch mit qualifiziertem Namen (Modell, Thema) zu referenzieren, ausser man verwendet das Schlüsselwort <code>UNQUALIFIED</code>. Themen gehören nur dann zu einem Modell (und können entsprechend Kapitel 3.3.6 Codierung von Themen transferiert werden), wenn sie innerhalb dieses Modells definiert sind (Regel TopicDef).</p>
</div>
<div class="paragraph">
<p>Mit der Sprache verbunden ist auch ein vordefiniertes Basis-Modell "INTERLIS" (vgl. Anhang A Das interne INTERLIS-Datenmodell). Dieses muss nicht importiert werden. Hingegen stehen auch dessen Elemente nur dann mit unqualifizierten Namen zur Verfügung, wenn das Modell mit <code>IMPORTS UNQUALIFIED INTERLIS</code> eingeführt wird.</p>
</div>
</div>
<div class="sect3">
<h4 id="_themen">Themen</h4>
<div class="paragraph">
<p>Ein Thema (Schlüsselwort <code>TOPIC</code>) enthält alle zur Beschreibung eines bestimmten sachlichen Teils der Realwelt nötigen Definitionen. Ein Thema kann auch Typen wie Masseinheiten, Wertebereiche oder Strukturen definieren oder diese vom umhüllenden Modell oder einem importierten Modell benützen. In runden Klammern können die Vererbungseigenschaften definiert werden. Enthält ein Thema abstrakte Definitionen, die nicht im selben Thema konkretisiert werden, muss das Thema als ABSTRACT deklariert werden. Abstrakte Definitionen müssen dann in konkreten Erweiterungen des Themas noch konkretisiert werden. Für einen Datentransfer braucht es ein konkretes Thema. Da sich eine Erweiterung eines Themas immer auf ein Thema mit einem anderen Namen bezieht, macht <code>EXTENDED</code> keinen Sinn und ist deshalb nicht zulässig.</p>
</div>
<a href="#2_5_C2">&#x203B</a>
<div id="2_5_C2" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>TopicDef = [ 'VIEW' ] 'TOPIC' Topic-Name
               Properties&lt;ABSTRACT,FINAL&gt;
               [ 'EXTENDS' TopicRef ] '='
                   [ 'BASKET' 'OID' 'AS' OID-DomainRef ';' ]
                   [ 'OID' 'AS' OID-DomainRef ';' ]
                   { 'DEPENDS' 'ON' TopicRef { ',' TopicRef } ';' }
                   [ 'DEFERRED' 'GENERICS'
                        GenericRef { ',' GenericRef } ';' ]
                   Definitions
           'END' Topic-Name ';'.

Definitions = { MetaDataBasketDef
              | UnitDef
              | FunctionDef
              | DomainDef
              | ClassDef
              | StructureDef
              | AssociationDef
              | ConstraintsDef
              | ViewDef
              | GraphicDef }.

TopicRef = [ Model-Name '.' ] Topic-Name.

GenericRef = GenericCoordType-DomainRef.</pre>
</div>
</div>
<div class="paragraph">
<p>Zu einem bestimmten Thema, das konkrete Klassen enthält, können beliebig viele Behälter (Datenbanken etc.) existieren. Sie weisen alle die dem Thema entsprechende Struktur auf, enthalten aber unterschiedliche Objekte.</p>
</div>
<div class="paragraph">
<p>In einem Datenbehälter kommen dabei nur die Instanzen von Klassen (und ihrer Unterstrukturen) vor. Enthält ein Thema Darstellungsbeschreibungen, können drei Arten von Behältern gebildet werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Datenbehälter.</p>
</li>
<li>
<p>Behälter mit den Basisdaten für die Grafik. Solche Behälter enthalten die Instanzen von Klassen oder Sichten, welche die Grundlage der Darstellungsbeschreibungen bilden.</p>
</li>
<li>
<p>Grafikbehälter. Solche Behälter enthalten die umgesetzten Grafikobjekte (entsprechend der Parameter-Definition der verwendeten Signaturen).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Datenbehälter und Objekte weisen in der Regel eine Objektidentifikation auf. Ihr Wertebereich ergibt sich aus der entsprechenden Definition: <code>BASKET OID AS</code> für die Objektidentifikationen der Datenbehälter, <code>OID AS</code> für die Objektidentifikationen der Objekte, sofern bei der jeweiligen Klasse keine spezifische Definition dafür gemacht wird. Wurde einem Thema ein OID-Wertebereich zugeordnet, kann die Zuordnung in Erweiterungen nicht mehr geändert werden. In vielen Fällen wird es Sinn machen, den Standardwertebereich <code>STANDARDOID</code> (vgl. Kapitel 2.8.9 Wertebereiche von Objektidentifikationen sowie Anhänge A und F) zu verwenden. Fehlt die OID-Definition für ein Thema oder eine bestimmte Klasse, erhalten diese Behälter bzw. Objekte keine stabilen Objektidentifikationen. Der inkrementelle Datenaustausch ist dann für sie nicht möglich.</p>
</div>
<div class="paragraph">
<p>Ohne weitere Angaben ist ein Thema datenmässig unabhängig von anderen Themen. Datenmässige Abhängigkeiten entstehen als Folge von Beziehungen bzw. Referenzattributen, die in einen anderen Behälter verweisen, durch spezielle Konsistenzbedingungen oder durch den Aufbau von Sichten oder Grafikdefinitionen auf Klassen oder anderen Sichten, nicht aber durch die Verwendung von Metaobjekten (vgl. Kapitel 2.10.1 Allgemeine Aussagen zu Metaobjekten). Im Interesse der klaren Erkennbarkeit solcher Abhängigkeiten, müssen diese aber bereits im Themenkopf explizit deklariert werden (Schlüsselwort <code>DEPENDS ON</code>). Die detaillierten Definitionen (z.B. Beziehungsdefinitionen) dürfen dann die Abhängigkeitsdeklaration nicht verletzen. Zyklische Abhängigkeiten sind nicht erlaubt. Ein erweitertes Thema besitzt ohne zusätzliche Deklarationen dieselben Abhängigkeiten wie sein Basis-Thema.</p>
</div>
<div class="paragraph">
<p>Referenziert ein Thema direkt oder indirekt generische Festlegungen, die letztlich erst im Transfer festgelegt werden, müssen sie explizit aufgeführt werden (<code>DEFERRED GENERICS</code>). Aktuell besteht diese Möglichkeit nur für Koordinaten-Wertebereiche (vgl. Kapitel 2.8.8 Koordinaten).</p>
</div>
</div>
<div class="sect3">
<h4 id="_klassen_und_strukturen">Klassen und Strukturen</h4>
<div class="paragraph">
<p>Eine Klassendefinition (Schlüsselwort CLASS) deklariert die Eigenschaften aller zugehörigen Objekte. Eine Klasse wird in einem Thema abschliessend definiert. Klassendefinitionen sind erweiterbar, wobei eine Erweiterung primär sämtliche Attribute ihrer Basis-Klasse erbt. Deren Wertebereiche dürfen eingeschränkt werden. Zudem dürfen weitere Attribute oder zusätzliche Konsistenzbedingungen definiert werden.</p>
</div>
<div class="paragraph">
<p>Der Wertebereich der Objektidentifikationen aller Objekte dieser Klasse kann explizit festgelegt werden (<code>OID AS</code> oder <code>NO OID</code>). Fehlt die Definition, gilt diejenige des Themas, es sei denn, es werde explizit festgelegt, dass keine Objektidentifikationen gefragt sind (<code>NO OID</code>). Fehlt die Definition auch beim Thema, gilt implizit <code>NO OID</code>. <code>NO OID</code> bedeutet, dass die Objektidentifikation nicht stabil ist. Als Folge ist es weder möglich, Objekte dieser Klasse inkrementell nachzuliefern, noch Referenzen (Beziehungen, Beziehungsattribute) auf diese Klasse zu definieren. Eine bereits gemachte OID-Definition kann nicht erweitert werden, ausser dass ein geerbtes <code>NO OID</code> durch <code>ANY</code>, und ein geerbtes <code>ANY</code> durch eine konkrete Definition ersetzt werden kann. Ein geerbtes <code>ANY</code> kann jedoch nicht durch <code>NO OID</code> ersetzt werden. (vgl. Kapitel 2.8.9 Wertebereiche von Objektidentifikationen).</p>
</div>
<div class="paragraph">
<p>Als Teil einer Klassendefinition können Konsistenzbedingungen angegeben werden. Die Bedingungen stellen Regeln dar, welchen die Objekte zusätzlich genügen müssen. Ererbte Konsistenzbedingungen können nicht ausser Kraft gesetzt werden, sondern gelten immer zusätzlich zu den lokal deklarierten.</p>
</div>
<div class="paragraph">
<p>Die Objekte einer Klasse sind immer selbständig und individuell identifizierbar. Strukturen (Schlüsselwort <code>STRUCTURE</code>) sind zwar formal gleich wie Klassen definiert, ihre Strukturelemente sind jedoch unselbständig und können nicht einzeln identifiziert werden. Sie kommen entweder innerhalb von Unterstrukturen von Objekten vor (vgl. Kapitel 2.6 Attribute), oder sie existieren nur temporär als Ergebnisse von Funktionen. Strukturen dürfen zu Klassen erweitert werden; Objekte solcher Klassen sind wie normale Objekte selbständig und identifizierbar. Klassen dürfen nicht zu Strukturen erweitert werden.</p>
</div>
<div class="paragraph">
<p>Spezielle Klassen wie diejenigen für Referenzsysteme, Koordinatensystem-Achsen und Grafik-Signaturen (also Erweiterungen der vordefinierten Klasse <code>METAOBJECT</code>) werden im Kapitel 2.10 Umgang mit Metaobjekten beschrieben.</p>
</div>
<div class="paragraph">
<p>In runden Klammern (Regel Properties) können die Vererbungseigenschaften definiert werden. Es sind alle Möglichkeiten zulässig. Enthält eine Klasse oder Struktur abstrakte Attribute, ist sie als <code>ABSTRACT</code> zu deklarieren. Abstrakte Attribute müssen dann in konkreten Erweiterungen der Klasse noch konkretisiert werden. Es ist aber auch zulässig, Klassen als abstrakt zu erklären, deren Attribute vollständig definiert sind. Objektinstanzen können nur für konkrete Klassen existieren, die innerhalb eines Themas definiert wurden, d.h. für einen Datentransfer braucht es konkrete Klassen, die in einem konkreten Thema definiert sind.</p>
</div>
<div class="paragraph">
<p>Wird eine einzelne Klasse und nicht ein ganzes Thema geerbt, dürfen keine Beziehungen (vgl. Kapitel 2.7 Eigentliche Beziehungen) zu ihr definiert sein.</p>
</div>
<div class="paragraph">
<p>Erweitert ein Thema ein anderes, werden alle Klassen des geerbten Themas übernommen. Sie werden also zu Klassen des aktuellen Themas und haben denselben Namen wie im geerbten Thema. Eine solche Klasse kann auch unter Beibehaltung ihres Namens erweitert werden (<code>EXTENDED</code>). Erweitert z.B. ein Thema T2 das Thema T1, das die Klasse C enthält, gibt es mit C (EXTENDED) innerhalb von T2 nur eine Klasse, nämlich C. Neue Klassen, die sich namensmässig von den geerbten unterscheiden müssen, dürfen auch geerbte erweitern. Mit C2 EXTENDS C, gibt es dann in T2 zwei Klassen (C und C2). Da INTERLIS im Interesse von Einfachheit und Klarheit nur Einfachvererbung unterstützt, ist <code>EXTENDED</code> allerdings nur zulässig, wenn weder im Basis-Thema noch im aktuellen Thema die Basis-Klasse mit <code>EXTENDS</code> erweitert wurde. <code>EXTENDED</code> und <code>EXTENDS</code> schliessen sich in der gleichen Klassendefinition aus.</p>
</div>
<a href="#2_5_C3">&#x203B</a>
<div id="2_5_C3" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>ClassDef = 'CLASS' Class-Name
             Properties&lt;ABSTRACT,EXTENDED,FINAL&gt;
               [ 'EXTENDS' ClassOrStructureRef ] '='
             [ ( 'OID' 'AS' OID-DomainRef | 'NO' 'OID' ) ';' ]
             ClassOrStructureDef
           'END' Class-Name ';'.

StructureDef = 'STRUCTURE' Structure-Name
                 Properties&lt;ABSTRACT,EXTENDED,FINAL&gt;
                   [ 'EXTENDS' StructureRef ] '='
                 ClassOrStructureDef
               'END' Structure-Name ';'.

ClassOrStructureDef = [ 'ATTRIBUTE' ] { AttributeDef }
                      { ConstraintDef }
                      [ 'PARAMETER' { ParameterDef } ].

ClassRef = [ Model-Name '.' [ Topic-Name '.' ] ] Class-Name.

StructureRef = [ Model-Name '.' [ Topic-Name '.' ] ] Structure-Name.

ClassOrStructureRef = ( ClassRef | StructureRef ).</pre>
</div>
</div>
<div class="paragraph">
<p>Welche Namen qualifiziert werden müssen (durch Model-Name bzw. durch Model-Name.Topic-Name) ist am Schluss des folgenden Abschnitts (vgl. Kapitel 2.5.4 Namensräume) erklärt. Klassen und Strukturen, die nicht auf einer bereits definierten Klasse oder Struktur aufbauen, brauchen keinen EXTENDS-Teil.</p>
</div>
</div>
<div class="sect3">
<h4 id="_namensräume">Namensräume</h4>
<div class="paragraph">
<p>Als Namensraum bezeichnet man eine Menge von (eindeutigen) Namen. Jedes Modellierungselement (Datenmodell, Thema, Klassenelement) sowie die Metadaten-Behälter stellen jeweils einen eigenen Namensraum für ihre Namenskategorien (Typnamen, Bestandteilnamen, Metaobjektnamen) bereit.</p>
</div>
<div class="paragraph">
<p>Modellierungselemente gibt es auf drei Hierarchiestufen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Modell (<code>MODEL</code> ist einziges Modellierungselement auf oberster Stufe)</p>
</li>
<li>
<p>Thema (<code>TOPIC</code> ist einziges Modellierungselement auf dieser Stufe)</p>
</li>
<li>
<p>Klassenelemente sind Klasse (<code>CLASS</code>), Struktur (<code>STRUCTURE</code>), Assoziation (<code>ASSOCIATION</code>), Sicht (<code>VIEW</code>), Grafikdefinition (<code>GRAPHIC</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Metadaten-Behälter-Namen eröffnen den Zugang zu den Metaobjekten (vgl. Kapitel 2.10 Umgang mit Metaobjekten).</p>
</div>
<div class="paragraph">
<p>Es gibt drei Namenskategorien, die folgende Namen enthalten:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Typnamen sind die Kurzzeichen (Namen) von Einheiten und die Namen von Funktionen, Linienformtypen, Wertebereichen, Strukturen, Themen, Klassen, Assoziationen, Sichten, Grafikdefinitionen, Behältern.</p>
</li>
<li>
<p>Bestandteilnamen heissen die Namen von Laufzeitparametern, Attributen, Zeichnungsregeln, Parametern, Rollen und Basissichten.</p>
</li>
<li>
<p>Metaobjektnamen heissen die Namen von Metaobjekten. Sie existieren nur innerhalb von Metadatenbehältern.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Erweitert ein Modellierungselement ein anderes, werden seinen Namensräumen alle Namen des Basis-Modellierungselementes zugefügt. Um Missverständnisse auszuschliessen übernehmen Modellierungselemente zudem die Namen des übergeordneten Modellierungselementes entsprechend der Namenskategorie. Ein lokal im Modellierungselement definierter Name darf nicht mit einem übernommenen Namen kollidieren, es sei denn es handle sich ausdrücklich um eine Erweiterung (<code>EXTENDED</code>).</p>
</div>
<div class="paragraph">
<p>Will man Beschreibungselemente des Datenmodells referenzieren, muss ihr Name normalerweise qualifiziert, d.h. mit vorangestelltem Modell- und Thema-Namen angegeben werden. Unqualifiziert können die Namen der Namensräume des jeweiligen Modellierungselementes verwendet werden.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_attribute">Attribute</h3>
<div class="sect3">
<h4 id="_allgemeine_aussagen_zu_attributen">Allgemeine Aussagen zu Attributen</h4>
<div class="paragraph">
<p>Jedes Attribut wird durch seinen Namen und seinen Typ definiert. In runden Klammern (Regel Properties) können die Vererbungseigenschaften definiert werden. Ist ein Attribut eine Erweiterung eines geerbten Attributes, muss dies mit <code>EXTENDED</code> ausdrücklich angemerkt werden. Ist der Wertebereich eines Attributs abstrakt, muss das Attribut als <code>ABSTRACT</code> deklariert werden. Ein numerisches Attribut (vgl. Kapitel 2.8.5 Numerische Datentypen) kann als eine Unterteilung (Schlüsselwort <code>SUBDIVISION</code>) des ebenfalls numerischen Vorgängerattributes definiert sein (z.B. Minuten als Unterteilung von Stunden). Dieses Vorgängerattribut muss ganzzahlig und der Wertebereich der Unterteilung muss positiv sein. Ist die Unterteilung kontinuierlich (Schlüsselwort <code>CONTINUOUS</code>), muss die Differenz der Wertebereichsgrenzen mit dem Faktor zwischen der Einheit des Attributs und demjenigen des Vorgängerattributs übereinstimmen. Ist zu einer Unterteilung ein Referenzsystem definiert, muss dieses zum Wertesystem eines direkten oder indirekten Vorgängerattributes passen. Ein INTERLIS-Compiler oder ein Laufzeitsystem muss dies jedoch nicht überprüfen.</p>
</div>
<a href="#2_6_C1">&#x203B</a>
<div id="2_6_C1" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>AttributeDef = [ [ 'CONTINUOUS' ] 'SUBDIVISION' ]
               Attribute-Name Properties&lt;ABSTRACT,EXTENDED,FINAL,TRANSIENT&gt;
                 ':' AttrTypeDef
                     [ ':=' Factor { ',' Factor } ] ';'.</pre>
</div>
</div>
<div class="paragraph">
<p>Wird der Attributwert mittels eines Faktors (vgl. Kapitel 2.13 Ausdrücke) festgelegt, muss dessen Ergebnistyp zuweisungskompatibel zum definierten Attribut sein, d.h. es muss den gleichen Wertebereich oder einen erweiterten, d.h. spezialisierten Wertebereich aufweisen. Im Rahmen von Sichten - vor allem bei Vereinigungen und Sichterweiterungen (vgl. Kapitel 2.15 Sichten) – können mehrere Faktoren festgelegt werden und in zusätzlichen Sichterweiterungen noch zusätzliche beigefügt werden. Es gilt jeweils der letzte (Basis zuerst, Erweiterung anschliessend), dessen Wert definiert ist. Mittels eines Faktors festgelegte Attribute sollen, falls sie nur innerhalb weiterer Faktoren von Bedeutung sind, vom Datentransfer ausgeschlossen werden können, sie sollen dann als transient bezeichnet werden.</p>
</div>
<div class="paragraph">
<p>Ein Attribut kann in Erweiterungen wie folgt übersteuert werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>durch einen eingeschränkten Wertebereich.</p>
</li>
<li>
<p>durch eine Konstante aus dem verlangten Wertebereich. Eine solche Definition ist implizit final, d.h. sie kann nicht mehr weiter übersteuert werden.</p>
</li>
<li>
<p>durch einen Faktor, wenn der Typ des Ergebnisses als Erweiterung des Attributs zulässig wäre. Eine weitere Übersteuerung ist zulässig.</p>
</li>
</ul>
</div>
<a href="#2_6_C2">&#x203B</a>
<div id="2_6_C2" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>AttrTypeDef = ( 'MANDATORY' [ AttrType ]
              | AttrType
              | ( ( 'BAG' | 'LIST' ) [ Cardinality ]
                  'OF' AttrType ) ).

AttrType = ( Type
           | DomainRef
           | ReferenceAttr
           | RestrictedStructureRef ).

ReferenceAttr = 'REFERENCE' 'TO'
                  Properties&lt;EXTERNAL&gt; RestrictedClassOrAssRef.

RestrictedClassOrAssRef = ( ClassOrAssociationRef | 'ANYCLASS' )
                              [ 'RESTRICTION' '(' ClassOrAssociationRef
                                  { ';' ClassOrAssociationRef } ')' ].

ClassOrAssociationRef = ( ClassRef | AssociationRef ).

RestrictedStructureRef = ( StructureRef | 'ANYSTRUCTURE' )
                             [ 'RESTRICTION' '(' StructureRef
                                 { ';' StructureRef } ')' ].

RestrictedClassOrStructureRef = ( ClassOrStructureRef | 'ANYSTRUCTURE' )
                                    [ 'RESTRICTION' '(' ClassOrStructureRef
                                      { ';' ClassOrStructureRef } ')' ].</pre>
</div>
</div>
<div class="paragraph">
<p>Im Rahmen von Erweiterungen ist es zulässig, nur <code>MANDATORY</code> anzugeben. Es gilt dann der bereits definierte Attributtyp. Es wird aber verlangt, dass der Wert immer definiert ist.</p>
</div>
</div>
<div class="sect3">
<h4 id="_attribute_mit_wertebereichen_als_typ">Attribute mit Wertebereichen als Typ</h4>
<div class="paragraph">
<p>Als Typ eines Attributs kommen direkte Typendefinitionen (Regel Type) und die Verwendung bereits definierter Wertebereiche (Regel DomainRef) in Frage. Die verschiedenen Möglichkeiten sind im Kapitel 2.8 Wertebereiche und Konstanten aufgeführt.</p>
</div>
</div>
<div class="sect3">
<h4 id="_referenzattribute">Referenzattribute</h4>
<div class="paragraph">
<p>Mit einem Referenzattribut kann der Verweis zu einem anderen Objekt geschaffen werden. Zusammenhänge zwischen eigenständigen Objekten sind mittels eigentlichen Beziehungen (vgl. Kapitel 2.7 Eigentliche Beziehungen) zu definieren.</p>
</div>
<div class="paragraph">
<p>Die Klassen, deren Objekte für den Bezug in Frage kommen, dürfen konkrete oder abstrakte Objekt- oder Beziehungsklassen, jedoch keine Strukturen sein (da diese keine eigenständigen Objekte sind). Dabei kommen alle konkreten Klassen in Frage, die der aufgeführten primären bzw. einer der aufgeführten einschränkenden (<code>RESTRICTION TO</code>) Klassen entsprechen (Klasse selbst oder Unterklasse davon). Auf jeder Restriktionsstufe (Erstdefinition oder in Erweiterungsschritten) müssen jeweils alle noch zulässigen Klassen aufgeführt werden. Jede als Einschränkung definierte Klasse muss Unterklasse einer bisher zulässigen Klasse sein. Eine so in Frage kommende Klasse ist allerdings nur zulässig, wenn sie zum selben Thema wie das Referenzattribut oder zu einem Thema gehört, von denen das referenzierende Thema abhängig (<code>DEPENDS ON</code>) ist. Soll die Referenz auf ein Objekt eines anderen Behälters des gleichen oder eines anderen (<code>DEPENDS ON</code> vorausgesetzt) Themas verweisen dürfen, muss die Eigenschaft <code>EXTERNAL</code> angegeben werden. In Erweiterungen kann diese Eigenschaft weggelassen und damit ausgeschlossen, nicht aber zugefügt werden. Es muss mindestens eine zulässige konkrete Unterklasse geben, wenn das Referenzattribut nicht als abstrakt deklariert ist.</p>
</div>
</div>
<div class="sect3">
<h4 id="_strukturattribute">Strukturattribute</h4>
<div class="paragraph">
<p>Die Werte von Strukturattributen bestehen aus einem oder mehreren Strukturelementen (Instanzen von Strukturen; vgl. Kapitel 2.5.3 Klassen und Strukturen). Strukturelemente haben keine OID, existieren nur im Zusammenhang mit ihrem Hauptobjekt und sind auch nur über dieses auffindbar. Die zulässige Anzahl der Strukturelemente ergibt sich aus der angegebenen Kardinalität bzw. dem vorhandenen oder abwesenden Schlüsselwort <code>MANDATORY</code>. Mit LIST kann man erreichen, dass die Strukturelemente in einer bestimmten Reihenfolge geführt werden. Diese Reihenfolge muss beim Transfer erhalten bleiben. Mit <code>BAG</code> sind die Strukturelemente ungeordnet.</p>
</div>
<div class="paragraph">
<p>Strukturattribute dürfen mit konkreten oder abstrakten Typen (Strukturen, Wertebereiche, Referenzattribute; aber keine Klassen) definiert werden.</p>
</div>
<div class="paragraph">
<p>Bei Strukturen ergibt sich der Aufbau durch die angegebene Struktur (Regel RestrictedStructureRef). Für die konkreten Strukturelemente kommen grundsätzlich alle Strukturen (nicht aber Klassen) in Frage, die der primären und den einschränkend (<code>RESTRICTION TO</code>) aufgeführten Strukturen entsprechen oder diese erweitern. Für die Strukturen des aktuellen Themas braucht es dafür keine weiteren Angaben. Strukturen anderer Themen werden nur berücksichtigt, wenn sie bzw. eine ebenfalls in diesem anderen Thema definierte Basisklasse als primäre oder einschränkende Struktur bei der Definition des Strukturattributes explizit aufgeführt ist. Auf jeder Restriktionsstufe (Erstdefinition oder in Erweiterungsschritten) müssen jeweils alle noch zulässigen Strukturen aufgeführt werden. Jede als Erweiterung definierte Struktur muss Erweiterung einer bisher zulässigen Struktur sein.</p>
</div>
<div class="paragraph">
<p>Ist die Struktur eines Strukturattributs beliebig (<code>ANYSTRUCTURE</code>) oder findet sich keine konkrete Struktur, die der Definition genügt, muss das Strukturattribut als abstrakt deklariert werden, sofern es obligatorisch ist bzw. eine minimale Kardinalität grösser null hat. Werden Strukturen als formale Funktionsargumente definiert (vgl. Kapitel 2.14 Funktionen) kommen als aktuelle Argumente Pfade zu Strukturelementen oder zu Objekten in Frage. Insbesondere sind mit <code>ANYSTRUCTURE</code> alle Strukturelemente und alle Objekte verträglich.</p>
</div>
<div class="paragraph">
<p>Eine geordnete Unterstruktur (<code>LIST</code>) darf nicht durch eine ungeordnete (<code>BAG</code>) erweitert werden. Für die Kardinalität gelten die gleichen Regeln wie bei Beziehungen (vgl. Kapitel 2.7.3 Kardinalität).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_eigentliche_beziehungen">Eigentliche Beziehungen</h3>
<div class="sect3">
<h4 id="_beschreibung_von_beziehungen">Beschreibung von Beziehungen</h4>
<div class="paragraph">
<p>Eigentliche Beziehungen (im Gegensatz zu Referenzattributen; vgl. Kapitel 2.6 Attribute) werden als eigenständige Konstrukte beschrieben. Sie haben aber weitgehend gleiche Eigenschaften wie Klassen. So können sie selbst lokale Attribute und Konsistenzbedingungen aufweisen. Der Assoziationsname darf auch fehlen. Er wird dann implizit aus der Zusammensetzung der Rollennamen (erster, dann zweiter, usw.) gebildet. Die wichtigste Eigenschaft einer Beziehung besteht jedoch in der Auflistung von mindestens zwei Rollen mit den zugeordneten Klassen oder Beziehungen (Regeln wie bei den Referenzattributen, vgl. Kapitel 2.6.3 Referenzattribute) und den Detaileigenschaften wie Stärke der Beziehung und Kardinalität. Die Rollennamen sollen typischerweise Substantive sein. Sie können, müssen aber nicht, mit den Namen der zugeordneten Klassen oder Beziehungen übereinstimmen. Die zu definierende Beziehung darf aber nicht Erweiterung einer so zugeordneten Beziehung sein. Einer Rolle können auch alternativ verschiedene Klassen oder Beziehungen zugeordnet sein. Eine solche alternative Klasse oder Beziehung darf keine Erweiterung einer anderen alternativen Klasse oder Beziehung derselben Rolle sein.</p>
</div>
<div class="paragraph">
<p>Beispiel einer Beziehung, zwischen der Klasse K einerseits und den Klassen K oder L andererseits:</p>
</div>
<a href="#2_7_C1">&#x203B</a>
<div id="2_7_C1" class="listingblock">
<div class="content">
<pre>ASSOCIATION A =
  K –- K;
  KL –- K OR L;
END A;</pre>
</div>
</div>
<div class="paragraph">
<p>Beziehungen können primär wie Klassen erweitert werden. Damit die Bedeutung der Beziehung klar und unveränderlich ist, dürfen in Erweiterungen keine zusätzlichen Rollen beigefügt werden. Die zugeordneten Klassen oder Beziehungen und die Kardinalität können aber eingeschränkt werden. Unveränderte Rollen müssen nicht aufgeführt werden.</p>
</div>
<div class="paragraph">
<p>Beispiel, wie die Beziehung A zu A1 spezialisiert wird, wo nur noch Bezüge zu K1 (einer Subklasse von K) einerseits und zu K, L1, L2 (Subklassen von L) andererseits zulässig sind:</p>
</div>
<a href="#2_7_C2">&#x203B</a>
<div id="2_7_C2" class="listingblock">
<div class="content">
<pre>ASSOCIATION A1 EXTENDS A =
  K (EXTENDED) –- K1;
  KL (EXTENDED) –- K OR L RESTRICTION (L1, L2);
END A1;</pre>
</div>
</div>
<div class="paragraph">
<p>Ein Objekt der Klasse K1 kann damit entweder über eine Beziehung A mit Objekten der Klassen K oder L (zulässig, da K1 eine Subklasse von K ist) oder über eine Beziehung A1 mit Objekten der Klassen K, L1 oder L2 verbunden sein. Möchte man zusätzlich erreichen, dass ein Objekt K1 in der Rolle K nur die spezialisierte Beziehung A1 (und nicht auch die allgemeine Beziehung A) eingehen kann, ist die Rolle K als verdeckend (<code>HIDING</code>) zu kennzeichnen.</p>
</div>
<a href="#2_7_C3">&#x203B</a>
<div id="2_7_C3" class="listingblock">
<div class="content">
<pre>ASSOCIATION A1 EXTENDS A =
  K (EXTENDED, HIDING) –- K1;
  KL (EXTENDED) –- K OR L RESTRICTION (L1, L2);
END A1;</pre>
</div>
</div>
<div class="paragraph">
<p>Dies ist allerdings nur zulässig, wenn für K1 keine anderen aus A erweiterten Beziehungen definiert sind, bei denen die Rolle K nicht als verdeckend gekennzeichnet ist.</p>
</div>
<a href="#2_7_C4">&#x203B</a>
<div id="2_7_C4" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>AssociationDef = 'ASSOCIATION' [ Association-Name ]
                   Properties&lt;ABSTRACT,EXTENDED,FINAL,OID&gt;
                   [ 'EXTENDS' AssociationRef ]
                   [ 'DERIVED' 'FROM' RenamedViewableRef ] '='
                   [ ( 'OID' 'AS' OID-DomainRef | 'NO' 'OID' ) ';' ]
                   { RoleDef }
                   [ 'ATTRIBUTE' ] { AttributeDef }
                   [ 'CARDINALITY' '=' Cardinality ';' ]
                   { ConstraintDef }
                 'END' [ Association-Name ] ';'.

AssociationRef = [ Model-Name '.' [ Topic-Name '.' ] ] Association-Name.

RoleDef = Role-Name Properties&lt;ABSTRACT,EXTENDED,FINAL,HIDING,
                               ORDERED,EXTERNAL&gt;
            ( '--' | '-&lt;&gt;' | '-&lt;#&gt;' ) [ Cardinality ]
            RestrictedClassOrAssRef { 'OR' RestrictedClassOrAssRef }
            [ ':=' Role-Factor ] ';'.

Cardinality = '{' ( '*' | PosNumber [ '..' ( PosNumber | '*' ) ] ) '}'.</pre>
</div>
</div>
<div class="paragraph">
<p>Eine Instanz einer Beziehung zwischen Objekten kann als eigenständiges Objekt (Beziehungsinstanz) betrachtet werden. Primär werden auf dieser Beziehungsinstanz für alle Rollen die Bezüge zu den Bezugsobjekten festgehalten (alle müssen definiert sein!). Ohne weitere Angabe wird die Beziehungsinstanz durch die Bezüge zu den Objekten, die sie verbindet, identifiziert. Zwischen diesen Objekten ist dann nur eine solche Beziehungsinstanz zulässig. Mehrere Beziehungsinstanzen zwischen derselben Objektkombination sind nur zulässig, wenn für die Beziehung explizit eine Kardinalität mit Obergrenze grösser eins verlangt wird (<code>CARDINALITY</code>). In diesem Fall muss auch eine Objektidentifikation (mittels Property OID) verlangt werden. Wird eine eigene Objektidentifikation verlangt, kann die Beziehung auch selbst wieder in Rollen als Bezug verwendet werden.</p>
</div>
<div class="paragraph">
<p>Wird Kompatibilität mit INTERLIS 1 angestrebt, sollen nur Beziehungen mit zwei Rollen definiert werden, wobei die maximale Anzahl der Kardinalität einer Rolle nicht grösser als 1 sein darf.</p>
</div>
<div class="paragraph">
<p>Normalerweise müssen die konkreten Beziehungen zwischen Objekten mittels einer Anwendung explizit erstellt und dann durch das Bearbeitungssystem als Instanz festgehalten werden. Eine Beziehung kann aber auch aus einer Sicht abgeleitet werden, ohne dass sie instanziiert wird (<code>DERIVED FROM</code>). Eine solche Beziehung kann eine Erweiterung einer abstrakten Beziehung sein. Sie kann nicht selbst abstrakt sein. Wird sie erweitert, muss die Erweiterung auf der gleichen Sicht oder einer Erweiterung davon aufbauen. Allen Rollen und Attributen müssen entsprechend Objektpfade oder Attributpfade der Sicht zugewiesen sein. Dabei muss ein Objektpfad (vgl. Kapitel 2.13 Ausdrücke) angegeben werden, der letztlich eine der Rolle entsprechende Klasse oder Assoziation bezeichnet. Die Kardinalität muss mit der Leistung der Sicht übereinstimmen. Dies kann aber nur zur Laufzeit geprüft werden.</p>
</div>
<div class="paragraph">
<p>Ein typischer Anwendungsfall dürfte die Herleitung einer Beziehung aus den geometrischen Verhältnissen sein: In einer Sicht (Verbindung), auf die in der Assoziation Bezug genommen wird, werden z.B. Gebäude auf Grund der Geometrie mit den Liegenschaften, auf denen sie stehen,
in Beziehung gebracht (vgl. Kapitel 2.15 Sichten).</p>
</div>
</div>
<div class="sect3">
<h4 id="_stärke_der_beziehung">Stärke der Beziehung</h4>
<div class="paragraph">
<p>In Anlehnung an UML werden verschiedene Beziehungsstärken unterschieden. Für ihre Erklärung wird vor allem beschrieben, welchen Einfluss die Beziehungsstärke beim Kopieren und Löschen von Objekten hat. Für INTERLIS 2 ist jedoch nur das Löschen von Objekten (als Folge der inkrementellen Nachlieferung) von Bedeutung. Darüber hinaus gibt es noch andere Überlegungen, die die Beziehungsstärke beeinflussen. Insbesondere ist es den Bearbeitungssystemen überlassen, feinere Beziehungsstärken oder gar andere Kriterien für das Verhalten bei bestimmten Operationen vorzusehen.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Assoziation: Die beteiligten Objekte sind lose miteinander verbunden. Wird ein beteiligtes Objekt kopiert, ist die Kopie mit denselben Objekten verbunden wie das Original. Wird ein beteiligtes Objekt gelöscht, wird die Beziehung ebenfalls gelöscht, das verbundene Objekt bleibt aber bestehen. Syntaktisch wird bei allen Rollen <code>'--'</code> angegeben.</p>
</li>
<li>
<p>Aggregation: Es besteht eine schwache Beziehung zwischen einem Ganzen und seinen Teilen. Aggregationen sind nur in Beziehungen mit zwei Rollen erlaubt. Syntaktisch muss die Rolle, die zum Ganzen führt, mit einem Rhombus <code>'-&lt;&gt;'</code> angegeben sein. Die Rolle, die zum Teil führt, wird mit <code>'--'</code> definiert. Eine Objektklasse kann in verschiedenen Aggregationen in der Teile-Rolle auftreten. Einem bestimmten Teile-Objekt können dann auch verschiedene Ganze-Objekte zugeordnet sein. Anders als bei Assoziationen werden als Folge der Erstellung einer Kopie des Ganzen auch entsprechende Kopien der Teile erstellt. Da im Rahmen von INTERLIS 2 das Kopieren von Objekten nicht von Bedeutung ist, behandelt INTERLIS 2 Aggregationen wie Assoziationen.</p>
</li>
<li>
<p>Komposition: Es besteht eine starke Beziehung zwischen dem Ganzen und seinen Teilen. Eine Objektklasse darf in mehr als einer Komposition in der Teile-Rolle auftreten. Einem bestimmten Teile-Objekt darf aber höchstens ein Ganzes zugeordnet sein. Bei der Löschung des Ganzen werden auch seine Teile gelöscht. Bei der Rolle, die zum Ganzen führt, wird ein gefüllter Rhombus '-&lt;#&gt;' angegeben.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Assoziationen dürfen zu Aggregationen, diese zu Kompositionen erweitert werden, nicht aber umgekehrt.</p>
</div>
</div>
<div class="sect3">
<h4 id="_kardinalität">Kardinalität</h4>
<div class="paragraph">
<p>Die Kardinalität definiert die minimale und die maximale Anzahl erlaubter Objekte; steht nur ein Wert, ist das Minimum gleich dem Maximum. Steht als Maximum ein Stern anstatt einer Zahl, gibt es keine obere Schranke für die Anzahl der Unterobjekte. Die Kardinalitätsangabe <code>{*}</code> ist äquivalent mit <code>{0..*}</code>. Falls die Kardinalitätsangabe weggelassen wird, gilt normalerweise <code>{0..*}</code>. Bei Kompositionsrollen ist nur <code>{0..1}</code> oder <code>{1}</code> zugelassen (ein Teil kann nur zu einem Ganzen gehören). Fehlt die Angabe gilt <code>{0..1}</code>.</p>
</div>
<div class="paragraph">
<p>Die Kardinalität darf in Erweiterungen nur eingeschränkt, nicht jedoch erweitert werden. Wird also zunächst eine Kardinalität von <code>{2..4}</code> angegeben, darf eine Erweiterung nicht <code>{2..5}</code>, <code>{7}</code> oder <code>{*}</code> deklarieren. Das Weglassen der Kardinalitätsangabe wird bei erweiterten Attributen als Übernehmen des ererbten Wertes verstanden.</p>
</div>
<div class="paragraph">
<p>Je nach Verwendung hat die Kardinalität folgende Bedeutung:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bei Unterstrukturen: Anzahl der zulässigen Elemente.</p>
</li>
<li>
<p>Bei Rollen von Beziehungen: Anzahl der einer Rolle entsprechenden Objekte, die einer beliebigen Kombination von Objekten, die den anderen Rollen entsprechen, über die Beziehung zugeordnet sein dürfen.</p>
</li>
<li>
<p>Bei der Beziehung als Ganzes: Anzahl der Beziehungsinstanzen für eine beliebige Kombination von Objekten gemäss allen Rollen der Beziehung.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_geordnete_beziehungen">Geordnete Beziehungen</h4>
<div class="paragraph">
<p>Will man erreichen, dass die Beziehung aus der Sicht einer bestimmten Bezugsklasse in einer bestimmten Ordnung geführt wird, muss dies bei der Rolle als Eigenschaft (<code>ORDERED</code>) verlangt werden. Diese Ordnung wird beim Etablieren der Beziehung definiert und muss bei Transfers erhalten bleiben.</p>
</div>
</div>
<div class="sect3">
<h4 id="_beziehungszugänge">Beziehungszugänge</h4>
<div class="paragraph">
<p>Als Beziehungszugang (AssociationAccess) wird die Möglichkeit bezeichnet, aus der Sicht eines Objektes gemäss einer Beziehung zu den Beziehungsinstanzen und weiter zu den Bezugsobjekten zu navigieren. Beziehungszugänge müssen nicht definiert werden, sondern entstehen mit der Definition einer Beziehung für alle über Rollen zugeordneten Klassen, die im gleichen Thema wie die Beziehung definiert wurden. Ist eine an einer Beziehung beteiligte Klasse in einem anderen Thema definiert (themenübergreifende Beziehung) oder soll es zulässig sein, dass ein der Rolle entsprechendes Bezugsobjekt in einem anderen Behälter als die Beziehungsinstanz liegen darf, muss dies bei der Rolle speziell angemerkt werden (<code>EXTERNAL</code>, vgl. Kapitel 2.7.1 Beschreibung von Beziehungen und Kapitel 2.6.3 Referenzattribute). Die Klasse erhält dann keine Beziehungszugänge. Diese Eigenschaft wird in der Basisdefinition einer Beziehung festgelegt und kann in einer Erweiterung nicht mehr verändert werden. Bezieht sich eine Rolle auf eine vom geerbten Thema geerbte Klasse, sind Beziehungszugänge aus dieser Klasse nur möglich, wenn diese Klasse im aktuellen Thema mit gleichem Namen erweitert wurde (<code>EXTENDED</code>). Durch diese Einschränkungen wird vermieden, dass eine Klasse nachträglich (d.h. ausserhalb des Rahmens, in dem sie definiert wurde) nochmals eine Änderung erfährt.</p>
</div>
<div class="paragraph">
<p>Beziehungszugänge werden an die Subklassen vererbt, sofern dies nicht durch Verdeckungsforderung bei einer Rolle einer erweiternden Beziehung (<code>HIDING</code>) ausgeschlossen wird.</p>
</div>
<div class="paragraph">
<p>Beziehungszugänge sind für Pfadbeschreibungen von Bedeutung (vgl. Kapitel 2.13 Ausdrücke).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wertebereiche_und_konstanten">Wertebereiche und Konstanten</h3>
<div class="paragraph">
<p>Mit der Vorstellung eines Wertebereichs sind verschiedene Aspekte verbunden. Primär muss ein Datentyp festgelegt werden. Die INTERLIS-Datentypen sind unabhängig von der Implementation. Es wird deshalb z.B. nicht von Integer oder Real, sondern einfach von numerischen Datentypen gesprochen (vgl. Kapitel 2.8.5 Numerische Datentypen).</p>
</div>
<div class="paragraph">
<p>Ist der Datentyp festgelegt, sind – je nach Datentyp – noch weitere Präzisierungen nötig oder möglich. Ist eine Wertebereich-Definition noch unvollständig (fehlt z.B. bei einem numerischen Wertebereich noch die konkrete Bereichsdefinition), muss sie als abstrakt deklariert werden (Schlüsselwort <code>ABSTRACT</code>, Regel Properties). Um insbesondere den Übergang von LV03- auf LV95-Koordinaten zu erleichtern, kann der Wertebereich von Koordinaten als generisch (Schlüsselwort <code>GENERIC</code>, Regel Properties) definiert werden. Die verwendenden Wertebereiche (insbesondere Linien), Attribute, Klassen und Themen müssen deswegen nicht abstrakt definiert werden, obwohl der Koordinaten-Wertebereich erst in spezifischen Modellen oder sogar erst in den Transferdaten festgelegt wird (vgl. Kapitel 2.8.8 Koordinaten).</p>
</div>
<div class="paragraph">
<p>Wertebereiche können – wie andere Konstrukte – auch geerbt und dann erweitert werden, sofern sie nicht als <code>FINAL</code> definiert wurden. Wichtig ist dabei der Grundsatz, dass eine erweiterte Definition immer mit der Basis-Definition kompatibel sein muss. Bei Wertebereichen sind Erweiterungen (Schlüsselwort <code>EXTENDS</code>) somit eigentlich Präzisierungen bzw. Einschränkungen. Das Schlüsselwort <code>EXTENDED</code> (Regel Property) ist nicht zulässig. Im Interesse der Lesbarkeit wird empfohlen, Definitionsteile von Basis-Wertebereichen (z.B. die Masseinheit) in der Erweiterung auch dann zu wiederholen, wenn sie unverändert sind.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. Beispiel:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  Wert (ABSTRACT) = NUMERIC .. NUMERIC;    !! abstrakter Wertebereich
  GenWert EXTENDS Wert = 10.0 .. 100.0;    !! konkrete Erweiterung
  SpezWert EXTENDS GenWert = 20.0 .. 90.0; !! in Ordnung
  SpezWert EXTENDS GenWert = 0.0 .. 110.0; !! falsch, da unverträglich</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Eine wichtige Frage bei der Definition von Wertebereichen ist, ob der Wert "Undefiniert" auch zum Wertebereich gehört oder nicht. Ohne weitere Angabe gehört er dazu. Es kann aber verlangt werden, dass er nicht dazu gehört, d.h. dass ein Attribut mit diesem Wertebereich immer definiert sein muss (Schlüsselwort <code>MANDATORY</code>). <code>MANDATORY</code> allein ist nur bei Erweiterungen zulässig.</p>
</div>
<div class="paragraph">
<p>Bei der Definition eines Attributs einer Klasse oder Struktur (und nur dort) darf auch dann <code>MANDATORY</code> stehen, wenn der Wertebereich als <code>FINAL</code> deklariert wurde und somit eigentlich nicht weiter eingeschränkt werden dürfte.</p>
</div>
<div class="paragraph">
<p>Mit dem Schlüsselwort <code>CONSTRAINTS</code> kann die Wertebereichsdefinition um eine oder mehrere Einschränkungen ergänzt werden, um z.B. bei einem Textwertebereich nur bestimmte Zeichenfolgenmuster zuzulassen. Werden mehrere Einschränkungen gemacht, gelten alle. Jede Einschränkung hat innerhalb der Wertebereichsdefinition einen eindeutigen Namen.</p>
</div>
<a href="#2_8_C1">&#x203B</a>
<div id="2_8_C1" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>DomainDef = 'DOMAIN'
               { Domain-Name Properties&lt;ABSTRACT,GENERIC,FINAL&gt;
                   [ 'EXTENDS' DomainRef ] '='
               ( 'MANDATORY' [ Type ] | Type ) [ 'CONSTRAINTS'
                 Constraints-Name ':' Logical-Expression
                 { ',' Constraints-Name ':' Logical-Expression } ] ';' }.

Type = ( BaseType | LineType ).

DomainRef = [ Model-Name '.' [ Topic-Name '.' ] ] Domain-Name.

BaseType = ( TextType
           | EnumerationType
           | EnumTreeValueType
           | AlignmentType
           | BooleanType
           | NumericType
           | FormattedType
           | DateTimeType
           | CoordinateType
           | OIDType
           | BlackboxType
           | ClassType
           | AttributePathType ).</pre>
</div>
</div>
<div class="paragraph">
<p>In Vergleichsoperationen (vgl. Kapitel 2.13 Ausdrücke) können Attributwerte auch mit Konstanten verglichen werden. Diese sind wie folgt definiert:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Constant = ( 'UNDEFINED'
           | NumericConst
           | TextConst
           | FormattedConst
           | EnumerationConst
           | ClassConst
           | AttributePathConst ).</pre>
</div>
</div>
<div class="paragraph">
<p>Die typenspezifischen Konstanten sind bei den einzelnen Datentypen definiert.</p>
</div>
<div class="sect3">
<h4 id="_zeichenketten_2">Zeichenketten</h4>
<div class="paragraph">
<p>Eine Zeichenkette ist eine Folge von Zeichen mit einer maximalen Länge. Der Zeichenvorrat muss klar definiert sein (vgl. Anhang D Zeichentabelle).</p>
</div>
<div class="paragraph">
<p>Im Datentyp <code>MTEXT</code> sind die Zeichen «Carriage Return» (Wagenrücklauf) (#xD), «Line Feed» (Zeilenvorschub) (#xA) und «Tabulatorzeichen» (#x9), im Gegensatz zum Wertebereich des Datentyps <code>TEXT</code>, enthalten.</p>
</div>
<div class="paragraph">
<p>Beim Datentyp Zeichenkette (<code>TEXT</code>) ist primär die Länge der Zeichenkette von Interesse. Je nach der Form der Definition wird sie explizit oder implizit angegeben. Bei der expliziten Form (<code>TEXT * &#8230;&#8203;</code>) wird die maximale Länge in Anzahl Zeichen festgelegt (grösser Null). Werden nur die Schlüsselwörter <code>TEXT</code> oder <code>MTEXT</code> angegeben, ist die Anzahl Zeichen unbeschränkt. Im Rahmen einer Erweiterung kann die Länge verkürzt werden (eine Verlängerung würde zu einem Wertebereich führen, der mit dem Basis-Wertebereich nicht mehr verträglich ist).</p>
</div>
<div class="paragraph">
<p>Die INTERLIS-Zeichenkettenlänge bezeichnet die Zahl der Zeichen, wie sie von Benutzern wahrgenommen wird, nicht aber die Zahl der Speicherstellen, die ein System maximal zur Repräsentation einer Zeichenkette benötigt. Zeichenketten der Länge null gelten als undefiniert.</p>
</div>
<div class="paragraph">
<p>Bemerkung: Im Zusammenhang mit INTERLIS ist die Länge einer Zeichenkette als Anzahl jener Zeichen definiert, welche gemäss Unicode-Standard die kanonische Kombinationsklasse Nr. 0 besitzen, nachdem die Zeichenkette in die kanonisch dekomponierte Form von Unicode gebracht wurde (siehe <a href="https://www.unicode.org/unicode/reports/tr15/" class="bare">https://www.unicode.org/unicode/reports/tr15/</a>). So besitzt etwa eine Zeichenkette, die aus der Kette &lt;LATIN CAPITAL LETTER C WITH CIRCUMFLEX&gt;&lt;COMBINING CEDILLA&gt; besteht, ebenso die Länge 1 wie die äquivalente Zeichenkette &lt;LATIN CAPITAL LETTER C&gt;&lt; COMBINING CIRCUMFLEX ACCENT&gt;&lt;COMBINING CEDILLA&gt;. Gemäss der obigen Definition besitzen Ligaturen für «fl» oder «ffi» die Länge 1. Es wird aber davon abgeraten, solche Darstellungsformen überhaupt für Zeichenkettenattribute zu verwenden.</p>
</div>
<div class="paragraph">
<p>Der Namen-Zeichenkettentyp (Schlüsselwort <code>NAME</code>) definiert einen Wertebereich, der genau demjenigen der INTERLIS-Namen entspricht (vgl. Kapitel 2.2.2 Namen). Er wird in der vordefinierten Klasse <code>METAOBJECT</code> (siehe vordefiniertes Basismodell INTERLIS) und damit vor allem in den Klassen für Referenzsysteme sowie Signaturen eingesetzt (vgl. Kapitel 2.10.3 Referenzsysteme und Kapitel 2.16 Darstellungsbeschreibungen), weil dort Datenattribute mit Beschreibungselementen von Modellen übereinstimmen müssen.</p>
</div>
<div class="paragraph">
<p>Als weiterer Zeichenkettentyp wird der URI (Uniform Resource Identifier) geführt, z.B. http-, ftp- oder mailto-Adressen (s. Abschnitt 1.2 im Internet-Standard IETF RFC 2396 in <a href="https://www.w3.org" class="bare">https://www.w3.org</a>). Die Länge eines URI ist in INTERLIS auf 1023 Zeichen beschränkt. Er entspricht damit folgender Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  URI (FINAL) = TEXT*1023;  !! ACHTUNG: gemäss IETF RFC 2396
  NAME (FINAL) = TEXT*255;  !! ACHTUNG: gemäss Kapitel 2.2.2 Namen</pre>
</div>
</div>
<a href="#2_8_C2">&#x203B</a>
<div id="2_8_C2" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>TextType = ( 'MTEXT' [ '*' MaxLength-PosNumber ]
           | 'TEXT' [ '*' MaxLength-PosNumber ]
           | 'NAME'
           | 'URI' ).

TextConst = String.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_aufzählungen">Aufzählungen</h4>
<div class="paragraph">
<p>Mit einer Aufzählung werden die für diesen Typ zulässigen Werte festgelegt. Die Aufzählung ist jedoch nicht einfach linear, sondern im Sinne eines Baumes strukturiert. Die Blätter des Baumes (nicht aber die Knoten) bilden die Menge der zulässigen Werte.</p>
</div>
<div class="exampleblock">
<div class="title">Example 4. Beispiel:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  Farben = (rot (dunkelrot, orange, karmin),
            gelb,
            gruen (hellgruen, dunkelgruen));</pre>
</div>
</div>
<div class="paragraph">
<p>ergibt die folgenden - mittels Konstanten beschriebenen - zulässigen Werte:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#rot.dunkelrot #rot.orange #rot.karmin #gelb #gruen.hellgruen #gruen.dunkelgruen</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig8.png" alt="refhb24 fig8">
</div>
<div class="title">Figure 1. Beispiel einer Aufzählung</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Eine Schachtelung wird in runden Klammern angegeben. Die Elementnamen jeder Schachtelung müssen eindeutig sein. Die Schachtelungstiefe ist frei wählbar.</p>
</div>
<div class="paragraph">
<p>Ist eine Aufzählung geordnet (Schlüsselwort <code>ORDERED</code>), ist eine Reihenfolge der Elemente definiert. Ist die Aufzählung zirkulär (Schlüsselwort <code>CIRCULAR</code>), ist die Reihenfolge der Elemente definiert, wie wenn die Aufzählung geordnet wäre. Zudem wird ausgesagt, dass nach dem letzten Element wieder das erste folgt.</p>
</div>
<div class="paragraph">
<p>Nebst der eigentlichen Aufzählungsdefinition ist es auch möglich, einen Wertebereich zu definieren, der als zulässige Werte alle Blätter und Knoten einer Aufzählungsdefinition umfasst (<code>ALL</code>). Einem solchen Attribut kann darum auch der Wert eines Attributs, der zu Grunde liegenden Aufzählungsdefinition zugewiesen werden.</p>
</div>
<div class="exampleblock">
<div class="title">Example 5. Beispiele:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  Lage = (unten, mitte, oben) ORDERED;
  Wochentage = (Werktage (Montag, Dienstag, Mittwoch,
                          Donnerstag, Freitag, Samstag),
                Sonntag) CIRCULAR;
  WochentagsWerte = ALL OF Wochentage;</pre>
</div>
</div>
</div>
</div>
<a href="#2_8_C3">&#x203B</a>
<div id="2_8_C3" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>EnumerationType = Enumeration [ 'ORDERED' | 'CIRCULAR' ].

EnumTreeValueType = 'ALL' 'OF' Enumeration-DomainRef.

Enumeration = '(' EnumElement { ',' EnumElement } [ ':' 'FINAL' ]
               | 'FINAL' ')'.

EnumElement = EnumElement-Name { '.' EnumElement-Name } [Sub-Enumeration].

EnumerationConst = '#' ( EnumElement-Name { '.' EnumElement-Name }
                                          [ '.' 'OTHERS' ]
                       | 'OTHERS' ).</pre>
</div>
</div>
<div class="paragraph">
<p>Im Rahmen von Neudefinitionen von Aufzählungen (Primärdefinition, zusätzliche Elemente einer Erweiterung) darf das EnumElement nur aus einem Namen bestehen. Mehrere Namen sind nur zulässig, um für eine Erweiterung ein bisheriges Aufzählungselement zu identifizieren.</p>
</div>
<div class="paragraph">
<p>Aufzählungen können einerseits erweitert werden, indem für Blätter (also Aufzählungselemente, die keine Unter-Aufzählung aufweisen) der bisherigen Aufzählung Unter-Aufzählungen definiert werden. In der erweiterten Definition werden aus bisherigen Blättern neu Knoten, für die keine Werte definiert werden dürfen.</p>
</div>
<div class="paragraph">
<p>Andererseits kann jede einzelne Teilaufzählung in Erweiterungen durch weitere Elemente (Knoten oder Blätter) ergänzt werden. Die Basisaufzählungen umfassen dadurch nebst den genannten Elementen immer auch noch potenziell weitere Elemente, die erst in Erweiterungen definiert werden. Solche potenziellen Werte können auf der Basisstufe in Ausdrücken, Funktionsargumenten und Signaturzuweisungen (vgl. Kapitel 2.13 Ausdrücke, Kapitel 2.14 Funktionen und Kapitel 2.16 Darstellungsbeschreibungen) mit dem Wert <code>OTHERS</code> angesprochen werden. <code>OTHERS</code> ist jedoch kein zulässiger Wert im Rahmen der Klasse, zu der das Objekt gehört. Die Möglichkeit, in Erweiterungen zusätzliche Aufzählelemente anfügen zu können, kann unterbunden werden, indem die Teilaufzählung als abschliessend erklärt wird (<code>FINAL</code>). Dies erfolgt entweder nach dem letzten aufgeführten Element oder im Rahmen einer Erweiterung auch ohne dass neue Elemente angefügt werden.</p>
</div>
<div class="paragraph">
<p>Zirkuläre Aufzählungen (Schlüsselwort CIRCULAR) können nicht erweitert werden.</p>
</div>
<div class="exampleblock">
<div class="title">Example 6. Beispiel:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  Farbe = (rot,
           gelb,
           gruen);
  FarbePlus EXTENDS Farbe = (rot (dunkelrot, orange, karmin),
                             gruen (hellgruen, dunkelgruen: FINAL),
                             blau);
  FarbePlusPlus EXTENDS FarbePlus = (rot (FINAL),
                                     blau (hellblau, dunkelblau));</pre>
</div>
</div>
<div class="paragraph">
<p>ergibt für FarbePlus die folgenden - mittels Konstanten beschriebenen - zulässigen Werte:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#rot.dunkelrot #rot.orange #rot.karmin #gelb #gruen.hellgruen #gruen.dunkelgruen #blau</pre>
</div>
</div>
<div class="paragraph">
<p>und für FarbePlusPlus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#blau.hellblau #blau.dunkelblau statt #blau</pre>
</div>
</div>
<div class="paragraph">
<p>Durch die Angabe von <code>FINAL</code> bei den Grünstufen von FarbePlus ist es in FarbePlusPlus nicht zulässig weitere Grünstufen zu definieren. Mit der Angabe von <code>FINAL</code> für die Unterteilung von Rot in FarbePlusPlus wird verhindert, dass in möglichen Erweiterungen von FarbePlusPlus noch weitere Rotvarianten angefügt werden können.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_textausrichtungen">Textausrichtungen</h4>
<div class="paragraph">
<p>Für die Aufbereitung von Plänen und Karten müssen die Positionen von Texten festgehalten werden. Dabei muss festgelegt werden, welcher Stelle des Textes die Position entspricht. Mit dem horizontalen Alignment wird festgelegt, ob die Position auf dem linken oder rechten Rand des Textes oder in der Textmitte liegt. Das vertikale Alignment legt die Position in Richtung der Texthöhe fest.</p>
</div>
<div class="paragraph">
<p>Der Abstand Cap-Base entspricht der Höhe der Grossbuchstaben. Unterlängen befinden sich im Bereich von Base-Bottom.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig9.png" alt="refhb24 fig9">
</div>
<div class="title">Figure 2. Textausrichtung horizontal (<code>HALIGNMENT</code>) und vertikal (<code>VALIGNMENT</code>).</div>
</div>
<div class="paragraph">
<p>Horizontales und vertikales Alignment können als folgende vordefinierte Aufzählung verstanden werden:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  HALIGNMENT (FINAL) = (Left, Center, Right) ORDERED;
  VALIGNMENT (FINAL) = (Top, Cap, Half, Base, Bottom) ORDERED;</pre>
</div>
</div>
<a href="#2_8_C4">&#x203B</a>
<div id="2_8_C4" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>AlignmentType = ( 'HALIGNMENT' | 'VALIGNMENT' ).</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_boolean">Boolean</h4>
<div class="paragraph">
<p>Der Typ Boolean weist die Werte false und true auf. Er kann als folgende vordefinierte Aufzählung verstanden werden:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  BOOLEAN (FINAL) = (false, true) ORDERED;</pre>
</div>
</div>
<a href="#2_8_C5">&#x203B</a>
<div id="2_8_C5" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>BooleanType = 'BOOLEAN'.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_numerische_datentypen">Numerische Datentypen</h4>
<div class="paragraph">
<p>Die wichtigste Angabe bei numerischen Datentypen ist der Minimal- und der Maximal-Wert inklusive Stellenzahl (Nachkommastellen) sowie der Skalierungsfaktor. Zusätzlich kann angegeben werden, dass der Typ zirkulär ist (Schlüsselwort <code>CIRCULAR</code>), d.h. dass der in der letzten signifikanten Stelle um 1 erhöhte Maximalwert und der Minimalwert sachlich die gleiche Bedeutung haben (z.B. bei Winkeln 0 .. 359 Grad). Ist das Attribut als eine kontinuierliche Unterteilung des Vorgängerattributs definiert (vgl. Kapitel 2.6.1 Allgemeine Aussagen zu Attributen), muss der Typ als zirkulär definiert sein. Fehlt die Angabe des Minimal- und Maximal-Wertes (Schlüsselwort <code>NUMERIC</code>), gilt der Wertebereich als abstrakt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  Winkel1 = 0.00 .. 359.99 CIRCULAR [degree]; !! richtig
  Winkel2 = 0.00 .. 360.00 CIRCULAR [degree]; !! syntaktisch zwar richtig,
                                              !! sachlich aber falsch, da damit
                                              !! 360.01 dem Minimalwert 0.00
                                              !! entspricht</pre>
</div>
</div>
<div class="paragraph">
<p>Die Stellenzahl muss beim Minimal- und beim Maximal-Wert übereinstimmen. Mit Hilfe der Skalierung können Float-Zahlen beschrieben werden, aber dann sind sowohl der Minimal- als auch der Maximal-Wert in Mantissendarstellung anzugeben, d.h. beginnend mit Null (0) und gefolgt vom Dezimalpunkt (.) muss die erste Ziffer nach dem Dezimalpunkt von Null (0) verschieden sein. Die Skalierung des Minimalwertes muss kleiner sein als die Skalierung des Maximalwertes. Die Schreibweise von Minimal- und Maximalwert bedeutet aber keineswegs eine Anweisung, wie die Werte transferiert werden sollen (ist ein Wertebereich mit 000 .. 999 definiert, bedeutet das nicht, dass der Wert 7 als 007 transferiert wird). Eine Ausnahme von dieser Regel bilden die Float-Zahlen. Diese sind in Mantissendarstellung und mit Skalierung zu transferieren.</p>
</div>
<div class="paragraph">
<p>Bei Erweiterungen dürfen die Maximal- bzw. Minimalwerte nur eingeschränkt werden. Der numerische Bereich wird damit also kleiner. Man beachte dabei folgende Situation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  Normal = 0.00 .. 7.99;
  Genau EXTENDS Normal = 0.0000 .. 7.9949;    !! richtig, da auch
                                              !! Normal darstellbar
  Genau EXTENDS Normal = 0.0000 .. 7.9999;    !! falsch, da gerundet
                                              !! ausserhalb Normal</pre>
</div>
</div>
<div class="paragraph">
<p>Um die Bedeutung des Wertes genauer zu erklären kann eine Masseinheit angegeben werden (vgl. Kapitel 2.9 Einheiten). Abstrakte Masseinheiten sind nur zulässig, solange der Wertebereich selbst noch undefiniert ist (Schlüsselwort <code>NUMERIC</code>).</p>
</div>
<div class="paragraph">
<p>Für Erweiterungen gelten folgende Regeln:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Weist ein konkreter Basis-Wertebereich keine Masseinheit auf, darf auch in Erweiterungen des Basis-Wertebereichs keine angegeben werden.</p>
</li>
<li>
<p>Verwendet der Basis-Wertebereich eine abstrakte Masseinheit, dürfen in Erweiterungen des Basis-Wertebereichs nur Masseinheiten verwendet werden, die Erweiterungen der Masseinheit sind.</p>
</li>
<li>
<p>Verwendet der Basis-Wertebereich eine konkrete Masseinheit, kann sie in Erweiterungen nicht übersteuert werden.</p>
</li>
</ul>
</div>
<div class="exampleblock">
<div class="title">Example 7. Beispiele:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>UNIT
  foot [ft] = 0.3048 [m];

DOMAIN
  Distanz (ABSTRACT) = NUMERIC [Length];
  MeterDist (ABSTRACT) EXTENDS Distanz = NUMERIC [m];
  FussDist (ABSTRACT) EXTENDS Distanz = NUMERIC [ft];
  KurzeMeter EXTENDS MeterDist = 0.00 .. 100.00 [m];
  KurzeFuesse EXTENDS FussDist = 0.00 .. 100.00 [ft];
  KurzeFuesse2 (ABSTRACT) EXTENDS KurzeMeter = NUMERIC [ft]; !! falsch: m vs. ft</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Einem numerischen Wertebereich kann auch ein Skalarsystem zugeordnet werden (vgl. Kapitel 2.10.3 Referenzsysteme). Damit beziehen sich die Werte auf den durch das Skalarsystem bestimmten Nullpunkt. Es sind also absolute Werte in diesem Skalarsystem. Ist in der Klasse des Skalarsystems die Einheit nicht <code>ANYUNIT</code>, muss beim numerischen Datentyp eine Einheit angegeben werden, die mit jener des Referenzsystems verträglich ist. Bezieht man sich auf ein Koordinatensystem, kann die Achse angegeben werden, auf die sich die Werte beziehen. Die Einheit muss mit jener der entsprechenden Achse verträglich sein. Fehlt diese Angabe, ist der Bezug nicht genauer definiert, sondern ergibt sich aus dem Fachgebiet (z.B. bezieht man sich bei einer Höhe auf ein Ellipsoid, meint man ellipsoidische Höhen). Bezieht man sich auf einen anderen Wertebereich, soll das gleiche Referenzsystem gelten wie bei diesem Wertebereich. In diesem Fall darf die Angabe der Achse nur fehlen, wenn es sich um einen numerischen Wertebereich handelt. Bei einem Koordinatenwertebereich ist die Achsenangabe obligatorisch. Die Angabe des Referenzsystems kann in Erweiterungen nicht mehr geändert werden.</p>
</div>
<div class="paragraph">
<p>Stellt der numerische Wert einen Winkel dar, kann sein Richtungssinn festgelegt werden. Im Falle von Richtungen kann angegeben werden, auf welches Koordinatensystem (definiert durch einen Koordinaten-Wertebereich) sich die Richtung bezieht. Damit ist bekannt, wie die Nullrichtung (Azimut) und der Drehsinn definiert sind (vgl. Kapitel 2.8.8 Koordinaten). Diese Angabe kann in Erweiterungen nicht mehr geändert werden.</p>
</div>
<div class="paragraph">
<p>Als numerische Konstanten sind nebst den Dezimalzahlen auch die Zahlen Pi (Schlüsselwort <code>PI</code>) und e – Basis des natürlichen Logarithmus – (Schlüsselwort <code>LNBASE</code>) definiert.</p>
</div>
<a href="#2_8_C6">&#x203B</a>
<div id="2_8_C6" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>NumericType = ( Min-Dec '..' Max-Dec | 'NUMERIC' ) [ 'CIRCULAR' ]
              [ '[' UnitRef ']' ]
              [ 'CLOCKWISE' | 'COUNTERCLOCKWISE' | RefSys ].

RefSys = ( '{' RefSys-MetaObjectRef [ '[' Axis-PosNumber ']' ] '}'
         | '&lt;' Coord-DomainRef [ '[' Axis-PosNumber ']' ] '&gt;' ).

DecConst = ( Dec | 'PI' | 'LNBASE' ).

NumericConst = DecConst [ '[' UnitRef ']' ].</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_formatierte_wertebereiche">Formatierte Wertebereiche</h4>
<div class="paragraph">
<p>Formatierte Wertebereiche basieren auf Strukturen und verwenden deren numerische oder formatierte Attribute in einem Format. Dieses Format dient einerseits dem Datenaustausch (vgl. 3.3.11.5 Codierung von formatierten Wertebereichen), andererseits der Definition von unterer und oberer Grenze des Wertebereichs.</p>
</div>
<a href="#2_8_C7">&#x203B</a>
<div id="2_8_C7" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>FormattedType = ( 'FORMAT' ( 'BASED' 'ON' StructureRef FormatDef
                             [ Min-String '..' Max-String ]
                           | FormattedType-DomainRef
                             Min-String '..' Max-String
                           ) )
                | Min-String '..' Max-String.

FormatDef = '(' [ 'INHERITANCE' ]
                  [ NonNum-String ] { BaseAttrRef NonNum-String }
                                      BaseAttrRef [ NonNum-String ] ')'.

BaseAttrRef = ( NumericAttribute-Name [ '/' IntPos-PosNumber ]
              | StructureAttribute-Name '/' Formatted-DomainRef ).

FormattedConst = String.</pre>
</div>
</div>
<div class="paragraph">
<p>Eine Basisdefinition eines formatierten Wertebereichs definiert primär die Struktur, auf welcher er aufbaut und das Format das zur Anwendung kommt. Zusätzlich können die untere und obere Grenze des Wertebereichs definiert werden. Sie dürfen die mit der Struktur definierten Grenzen nicht ausweiten.</p>
</div>
<div class="paragraph">
<p>Im Rahmen einer Erweiterung kann auf eine Erweiterung der ursprünglichen Struktur Bezug genommen, das Format ergänzt (der geerbte Teil muss am Anfang stehen und im Interesse von Klarheit mittels des Schlüsselwortes <code>INHERITANCE</code> erwähnt werden) und der Wertebereich eingeschränkt werden.</p>
</div>
<div class="paragraph">
<p>In der Formatdefinition können einerseits konstante Strings, die nicht mit einer Ziffer beginnen (am Anfang, am Ende und zwischen den einzelnen Attributreferenzen) und andererseits direkte oder indirekte Attributreferenzen (über Strukturattribute) enthalten sein. Die Attributreferenz muss entweder ein numerisches Attribut oder ein Strukturattribut bezeichnen. Im Falle eines numerischen Attributes können Vorkommastellen festgelegt werden. Als Folge ergeben sich nötigenfalls führende Nullen. Die Nachkommastellen ergeben sich aus dem numerischen Wertebereich. Bei Strukturattributen muss definiert werden, gemäss welchem formatierten Wertebereich es formatiert werden soll. Die Struktur muss mit der Basisstruktur des Wertebereichs übereinstimmen oder eine Erweiterung davon sein.</p>
</div>
</div>
<div class="sect3">
<h4 id="_datum_und_zeit">Datum und Zeit</h4>
<div class="paragraph">
<p>Wo Datums- oder Zeitangaben nicht nur aus einem einzigen Wert (z.B. Jahr, Sekunde) bestehen, werden üblicherweise formatierte Wertebereiche verwendet.</p>
</div>
<a href="#2_8_C8">&#x203B</a>
<div id="2_8_C8" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>DateTimeType = ( 'DATE' | 'TIMEOFDAY' | 'DATETIME' ).</pre>
</div>
</div>
<div class="paragraph">
<p>Die Wertebereiche für <code>DATE</code>, <code>TIMEOFDAY</code> bzw. <code>DATETIME</code> entsprechen den im Folgenden definierten <code>INTERLIS.XMLDate</code>, <code>INTERLIS.XMLTime</code> bzw. <code>INTERLIS.XMLDateTime</code>.</p>
</div>
<div class="paragraph">
<p>Im Interesse der Kompatibilität mit XML werden entsprechende Elemente durch INTERLIS vordefiniert:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>UNIT
  Minute [min] = 60 [INTERLIS.s];
  Hour   [h]   = 60 [min];
  Day    [d]   = 24 [h];
  Month [M] EXTENDS INTERLIS.TIME;
  Year [Y] EXTENDS INTERLIS.TIME;

REFSYSTEM BASKET BaseTimeSystems ~ TIMESYSTEMS
  OBJECTS OF CALENDAR: GregorianCalendar
  OBJECTS OF TIMEOFDAYSYS: UTC;

STRUCTURE TimeOfDay (ABSTRACT) =
  Hours: 0 .. 23 CIRCULAR [h];
  CONTINUOUS SUBDIVISION Minutes: 0 .. 59 CIRCULAR [min];
  CONTINUOUS SUBDIVISION Seconds: 0.000 .. 59.999 CIRCULAR [INTERLIS.s];
END TimeOfDay;

STRUCTURE UTC EXTENDS TimeOfDay =
  Hours(EXTENDED): 0 .. 23 {UTC};
END UTC;

DOMAIN
  GregorianYear = 1582 .. 2999 [Y] {GregorianCalendar};

STRUCTURE GregorianDate =
  Year: GregorianYear;
  SUBDIVISION Month: 1 .. 12 [M];
  SUBDIVISION Day: 1 .. 31 [d];
END GregorianDate;

STRUCTURE GregorianDateTime EXTENDS GregorianDate =
  SUBDIVISION Hours: 0 .. 23 CIRCULAR [h] {UTC};
  CONTINUOUS SUBDIVISION Minutes: 0 .. 59 CIRCULAR [min];
  CONTINUOUS SUBDIVISION Seconds: 0.000 .. 59.999 CIRCULAR [INTERLIS.s];
END GregorianDate;

DOMAIN XMLDate = FORMAT BASED ON GregorianDate ( Year/4 "-" Month/2 "-" Day/2 );
DOMAIN XMLTime = FORMAT BASED ON UTC ( Hours/2 ":" Minutes/2 ":" Seconds/2 );
DOMAIN XMLDateTime EXTENDS XMLDate = FORMAT BASED ON GregorianDateTime
                           ( INHERITANCE "T" Hours/2 ":" Minutes/2 ":" Seconds/2 );</pre>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 8. Anwendungsbeispiel:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>CLASS Projekt =
  Start: FORMAT INTERLIS.XMLDateTime "2000-01-01T00:00:00.000" ..
                                     "2005-12-31T23:59:59.999";
  Ende: FORMAT INTERLIS.XMLDateTime "2002-01-01T00:00:00.000" ..
                                    "2007-12-31T23:59:59.999";
END Projekt;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_koordinaten">Koordinaten</h4>
<div class="paragraph">
<p>Koordinaten können ein-, zwei- oder dreidimensional definiert werden und sind entsprechend eine Einzelzahl, ein Zahlenpaar oder ein Zahlentripel. Es ist zulässig, dass die zweite oder dritte Dimension erst in einer Erweiterung beigefügt wird. Für jede Dimension muss der numerische Wertebereich sowie allenfalls eine Masseinheit und ein Koordinatensystem (inkl. Achsnummern) angegeben werden. Es gelten die gleichen Regeln wie bei den numerischen Datentypen. Es können nur konkrete Masseinheiten angegeben werden. Wird kein Referenzsystem angegeben und sind die Masseinheiten entweder nicht oder als Längeneinheit definiert, darf ein Programmsystem, das das Modell implementiert, davon ausgehen, dass es sich um kartesische Koordinaten handelt.</p>
</div>
<div class="paragraph">
<p>Wird eine Rotationsangabe gemacht (Schlüsselwort <code>ROTATION</code>) kann im Rahmen von Richtungsdefinitionen (vgl. Kapitel 2.8.5 Numerische Datentypen) auf ein solches Koordinaten-Referenzsystem verwiesen werden. Die Rotationsdefinition legt fest, welche Achse des Koordinaten-Wertebereichs der Nullrichtung und welche der Richtung eines positiven, rechten Winkels entsprechen. Sie darf auch in einer konkreten Koordinatendefinition fehlen und dann allenfalls in einer Erweiterung beigefügt werden.</p>
</div>
<div class="paragraph">
<p>Die Angaben betreffend Achsbezug und Rotation können in Erweiterungen nicht geändert werden.</p>
</div>
<div class="exampleblock">
<div class="title">Example 9. Beispiel</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  CHKoord = COORD 480000.00 .. 850000.00 [m] {CHLV03[1]},
                   60000.00 .. 320000.00 [m] {CHLV03[2]},
                  ROTATION 2 -&gt; 1 REFSYS "EPSG:21781";</pre>
</div>
</div>
<div class="paragraph">
<p>Bei den zwei definierten Achsen wird nebst dem zulässigen Bereich angegeben, auf welche Einheiten und welches Referenzsystem samt Achsennummer sich die Koordinaten beziehen. Die eigentlichen Achsen sind beim Referenzsystem definiert. Die Rotationsdefinition legt fest, dass die Nullrichtung von der zweiten zur ersten Achse führt, beim Schweizerischen System, wo der erste Wert der Ostwert, der zweite der Nordwert ist, zeigt die Nullrichtung nach Norden und dreht im Uhrzeigersinn.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  WGS84Koord = COORD –90.00000 ..  90.00000          [Units.Angle_Degree] {WGS84[1]},
                       0.00000 .. 359.99999 CIRCULAR [Units.Angle_Degree] {WGS84[2]},
                      -1000.00 .. 9000.00            [m] {WGS84Alt[1]};</pre>
</div>
</div>
<div class="paragraph">
<p>Geografische Koordinaten sind typischerweise in Grad dargestellt und beziehen sich auf ein ellipsoidisches Koordinatensystem (z.B. CH1903). Die Höhe andererseits ist in Meter beschrieben. Sie bezieht sich auf ein spezielles Ellipsoid-Höhen-System mit einer Achse.</p>
</div>
</div>
</div>
<a href="#2_8_C9">&#x203B</a>
<div id="2_8_C9" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>CoordinateType = ( 'COORD' | 'MULTICOORD' ) NumericType
                   [ ',' NumericType [ ',' NumericType ]
                       [ ',' RotationDef ] [ 'REFSYS' Name-String ] ].

RotationDef = 'ROTATION' NullAxis-PosNumber '-&gt;' PiHalfAxis-PosNumber.</pre>
</div>
</div>
<div class="paragraph">
<p>Mit der optionalen Angabe REFSYS kann der EPSG-Code<sup class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup> des Referenzsystems gemäss dem Muster EPSG:PosNumber festgelegt werden.</p>
</div>
<div class="paragraph">
<p>Mit dem Schlüsselwort <code>MULTICOORD</code> statt <code>COORD</code> wird als Wertebereich eine ungeordnete Menge von Koordinaten definiert. Im Unterschied zu einer Formulierung mit <code>LIST/BAG</code> haben die einzelnen Werte aber zwingend dasselbe Referenzsystem.</p>
</div>
<div class="paragraph">
<p>Sind die Definitionen unvollständig, muss der Wertebereich entweder als abstrakt (Property <code>ABSTRACT</code>) oder als generisch (Property <code>GENERIC</code>) deklariert werden.</p>
</div>
<div class="paragraph">
<p>Bei abstrakten Koordinatenbereichen kann selbst die Anzahl Dimensionen offen bleiben. Abstrakte Wertebereiche können nur in Attributen verwendet werden, die als abstrakt deklariert sind. Abstrakte Koordinatenbereiche können dann auf verschiedene Arten konkretisiert werden.</p>
</div>
<div class="paragraph">
<p>Bei generischen Koordinatenbereichen muss die Anzahl der Dimensionen festgelegt sein. Es ist aber zulässig, dass dabei nur die Angabe <code>NUMERIC</code> gemacht wird. Generische Wertebereiche können auch in Attributen verwendet werden, die nicht als abstrakt deklariert sind. Generische Koordinaten-Wertebereiche können gleich wie abstrakte konkretisiert werden. Dabei werden insbesondere die numerischen Wertebereiche der Achsen und das Referenzsystem (Concrete-DomainRef) festgelegt bzw. eingeschränkt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  Coord2 (GENERIC) = COORD NUMERIC, NUMERIC;

CLASS Punkt =
  Pos: Coord2;
END Punkt;</pre>
</div>
</div>
<div class="paragraph">
<p>Das Thema (<code>TOPIC</code>), zu dem eine solche Definition gehört, muss aber als abstrakt deklariert werden, sofern keine Kontextdefinition wirkt.</p>
</div>
<div class="paragraph">
<p>Mit einer Kontextdefinition können für einen generischen Koordinaten-Wertebereich (Generic-CoordDef-DomainRef) konkrete Koordinaten-Wertebereiche definiert werden. Wurde für einen generischen Koordinaten-Wertebereich nicht nur ein einzelner, sondern eine Auswahl von möglichen konkreten Koordinaten-Wertebereichen festgelegt, wird beim Transfer des einzelnen Behälters, der für diesen Behälter geltende Wertebereich festgehalten (vgl. Kapitel 3.3.6 Codierung von Themen). Die Tatsache, dass die Festlegung aufgeschoben ist, muss beim Thema angemerkt werden (vgl. Kapitel 2.5.2 Themen). Der letztlich gültige konkrete Koordinaten-Wertebereich gilt bei allen Verwendungen des generischen Koordinaten-Wertebereichs und bei allen Verwendungen von Linien-Wertebereichen, die auf dem generischen Koordinaten-Wertebereich basieren.</p>
</div>
<a href="#2_8_C10">&#x203B</a>
<div id="2_8_C10" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>ContextDef = 'CONTEXT' { Context-Name '=' { GenericCoordDef-DomainRef '='
             Concrete-DomainRef { 'OR' Concrete-DomainRef } ';' } }.</pre>
</div>
</div>
<div class="paragraph">
<p>Der Name des Kontexts ist ohne Bedeutung muss aber nach den allgemeinen Regeln eindeutig sein und dient z.B. für allfällige Fehlermeldungen. Ein Kontext wirkt in dem Modell wo er definiert wird und in allen Modellen, welche das definierende Modell direkt oder indirekt importieren.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CONTEXT default =
  MyModel.Coord2 = GeometryCHLV03.Coord2 OR GeometryCHLV95.Coord2;</pre>
</div>
</div>
<div class="paragraph">
<p>Wirkt für einen bestimmten generischen Koordinaten-Wertebereich bereits eine Kontextdefinition, kann mit einer neuen Kontextdefinition für denselben generischen Koordinaten-Wertebereich eine neue Festlegung für den konkreten Wertebereich gemacht werden. Diese neuen Wertebereiche müssen aber Spezialisierungen der bestehenden Festlegungen sein.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  Coord2Special EXTENDS GeometryCHLV03.Coord2 = COORD … ;

CONTEXT default =
  MyModel.Coord2 = Coord2Special;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_wertebereiche_von_objektidentifikationen">Wertebereiche von Objektidentifikationen</h4>
<div class="paragraph">
<p>Identifizierbare Objekte werden immer mit einer Objektidentifikation versehen. Damit für die Systeme klar ist, welcher Speicherplatz dafür vorgesehen werden muss und wie die Objektidentifikationen erzeugt werden müssen, können entsprechende Wertebereiche definiert und diese den Themen bzw. Klassen (vgl. Kapitel 2.5.2 Themen und Kapitel 2.5.3 Klassen und Strukturen) zugeordnet werden. Für die Verwaltung von Objektidentifikationen, insbesondere auch von Behältern, macht es aber Sinn, gewöhnliche Attribute mit solchen Wertebereichen zu führen.</p>
</div>
<a href="#2_8_C11">&#x203B</a>
<div id="2_8_C11" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>OIDType = 'OID' ( 'ANY' | NumericType | TextType ).</pre>
</div>
</div>
<div class="paragraph">
<p>INTERLIS 2 selbst definiert die folgenden OID-Wertebereiche (vgl. Anhang A Das interne INTERLIS-Datenmodell):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  NOOID = OID ANY;                             !! beliebiger, nicht stabiler
                                               !! Identifikator
  ANYOID (ABSTRACT) EXTENDS NOOID = OID ANY;
  I32OID EXTENDS ANYOID = OID 0 .. 2147483647; !! positive, 4 Bytes Integerwerte
  STANDARDOID EXTENDS ANYOID = OID TEXT*16;    !! gemäss Anhang F (nur Ziffern
                                               !! und Buchstaben erlaubt)
  UUIDOID EXTENDS ANYOID = OID TEXT*36;        !! gemäss ISO 11578</pre>
</div>
</div>
<div class="paragraph">
<p>Es ist nicht möglich, eine OID-Definition zu erweitern, ausser dass ein <code>NOOID</code> durch <code>ANYOID</code>, und <code>ANYOID</code> zu einer konkreten Definition (nicht <code>OID ANY</code>) erweitert werden kann.</p>
</div>
<div class="paragraph">
<p>Wird <code>ANYOID</code> für abstrakte Themen bzw. Klassen angewendet, wird verlangt, dass eine Objektidentifikation erwartet wird, die genaue Definition aber noch offen ist. Sonst kann <code>ANYOID</code> nur als Wertebereich von Attributen verwendet werden. Zum Attributwert gehört dann nicht nur die eigentliche <code>OID</code>, sondern auch der konkrete OID-Wertebereich. OID-Werte von textlichen OID-Wertebereichen müssen die XML-ID Regel in Kapitel 3.3.1 erfüllen: erstes Zeichen muss ein Buchstabe, eine Ziffer oder ein Unterstrich sein, dann folgen Buchstaben, Ziffern, Punkte, Minuszeichen, Unterstriche; keine Doppelpunkte (!).</p>
</div>
</div>
<div class="sect3">
<h4 id="_gefässe">Gefässe</h4>
<div class="paragraph">
<p>Durch Einsatz dieses Datentyps können Attribute modelliert werden, deren Inhalt nicht spezifiziert werden kann. Die Variante <code>XML</code> beschreibt ein Attribut mit XML-Inhalt und die Variante <code>BINARY</code> einen binären Inhalt. Dieser Typ kann in Erweiterungen nicht verfeinert werden.</p>
</div>
<a href="#2_8_C12">&#x203B</a>
<div id="2_8_C12" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>BlackboxType = 'BLACKBOX' ( 'XML' | 'BINARY' ).</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_wertebereiche_von_klassen_und_attributpfaden">Wertebereiche von Klassen und Attributpfaden</h4>
<div class="paragraph">
<p>Es kann Sinn machen, dass Datenobjekte Verweise auf bestimmte Klassen und Attribute enthalten.</p>
</div>
<a href="#2_8_C13">&#x203B</a>
<div id="2_8_C13" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>ClassType = ( 'CLASS'
                [ 'RESTRICTION' '(' ViewableRef
                                    { ';' ViewableRef } ')' ]
            | 'STRUCTURE'
                [ 'RESTRICTION' '(' ClassOrStructureRef
                                    { ';' ClassOrStructureRef } ')' ] ).

AttributePathType = 'ATTRIBUTE'
                    [ 'OF' ( ClassType-AttributePath
                           | '@' Argument-Name ) ]
                    [ 'RESTRICTION' '(' AttrTypeDef
                                        { ';' AttrTypeDef } ')' ].

ClassConst = '&gt;' ViewableRef.

AttributePathConst = '&gt;&gt;' [ ViewableRef '-&gt;' ] Attribute-Name.</pre>
</div>
</div>
<div class="paragraph">
<p>Mit der Angabe von <code>STRUCTURE</code> wird eine beliebige Struktur oder Klasse, mit <code>CLASS</code> (auch als Erweiterung von <code>STRUCTURE</code> zulässig) eine beliebige Klasse (aber keine Strukturen) zugelassen. Sollen nur bestimmte Strukturen bzw. Klassen und ihre Erweiterungen zugelassen sein, sind diese aufzuführen (<code>RESTRICTION</code>). In Erweiterungen müssen erneut alle zulässigen Strukturen bzw. Klassen aufgeführt werden. Sie dürfen aber nicht im Widerspruch zur Basisdefinition sein. Sobald solche Einschränkungen definiert sind, kann darum <code>STRUCTURE</code> nicht mehr durch <code>CLASS</code> erweitert werden.</p>
</div>
<div class="paragraph">
<p>Mit der Angabe von <code>ATTRIBUTE</code> wird ein Attributpfadtyp zugelassen. Es kann verlangt werden, dass es zu einer Klasse (keine Subklasse!) gemäss einer anderen Definition gehört (<code>OF</code>). Dabei kann entweder auf ein ClassType-Attribut oder im Falle einer Definition einer Funktion (vgl. Kapitel 2.14 Funktionen) auf ein anderes Argument verwiesen werden. Die möglichen Attributtypen können zudem eingeschränkt werden (<code>RESTRICTION</code>). Als Konstante kommen die Namen von Attributen der Klassen, Strukturen, Assoziationen und Sichten in Frage. Der entsprechende Klassenname kann explizit angegeben werden oder ergibt sich aus dem Kontext bzw. aus dem Verweis auf ein anderes Attribut oder ein anderes Argument (<code>OF</code>).</p>
</div>
</div>
<div class="sect3">
<h4 id="_linienzüge">Linienzüge</h4>
<div class="sect4">
<h5 id="_geometrie_des_linienzugs">Geometrie des Linienzugs</h5>
<div class="paragraph">
<p>Anschaulich ist ein Kurvenstück ein 1-dimensionales Gebilde, das keine Risse, keine Ecken und keine Doppelpunkte jeglicher Art hat (siehe Figuren 10 und 11). Kurvenstücke sind also glatt und eindeutig. Strecken, Kreisbogen, Parabel- und Klothoidenstücke sind Beispiele von Kurvenstücken. Jedes Kurvenstück hat zwei <em>Randpunkte</em> (Anfangs- und Endpunkt), die nicht zusammenfallen dürfen. Die übrigen Punkte des Kurvenstückes heissen <em>innere Punkte</em>. Diese bilden das <em>Innere</em> des Kurvenstückes.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Exakte Definition (mathematische Begriffe, die nicht weiter erklärt werden, deren Definition man aber in Lehrbüchern findet, werden "<em>kursiv und in Anführungszeichen</em>" geschrieben): <em>Kurvenstück</em> heisst eine Teilmenge des "<em>3-dimensionalen</em>" "<em>Euklidischen Raumes</em>" (im folgenden kurz <em>Raum</em> genannt), die "<em>Bildmenge</em>" einer "<em>glatten</em>" und "<em>injektiven</em>" "<em>Abbildung</em>" eines "<em>Intervalls</em>" (der "<em>Zahlengerade</em>") ist. Anfangs- und Endpunkt des Kurvenstücks sind die Bilder der Intervallenden. <em>Ebenes Kurvenstück</em> heisst ein Kurvenstück, das in einer Ebene ("<em>2-dimensionaler</em>" "<em>Unterraum</em>" des Raumes) liegt.</p>
</div>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig10.png" alt="refhb24 fig10">
</div>
<div class="title">Figure 3. Beispiele von ebenen Kurvenstücken.</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig11.png" alt="refhb24 fig11">
</div>
<div class="title">Figure 4. Beispiele von ebenen Mengen, die nicht Kurvenstücke sind (ein doppelter Kreis bedeutet "nicht glatt" und ein doppeltes Rechteck "nicht injektiv").</div>
</div>
<div class="paragraph">
<p>Ein Linienzug ist eine endliche Folge von Kurvenstücken. Ausser beim ersten Kurvenstück stimmt der Anfangspunkt jeweils mit dem Endpunkt des Vorgänger-Kurvenstückes überein. Diese Punkte heissen Stützpunkte des Linienzuges. Anschaulich kann ein Linienzug mehrfach benützte Kurvenstücke, Kurvenstücke mit zusammenfallenden Stützpunkten, sich schneidende Kurvenstücke und im Innern von Kurvenstücken endende oder startende Kurvenstücke enthalten (siehe Figuren 12 und 13). Ein einfacher Linienzug weist keinerlei Selbst-Schnittpunkte auf (siehe Figur 14). Bei einem einfach geschlossenen Linienzug stimmt zudem der Anfangspunkt des ersten Kurvenstücks mit dem Endpunkt des letzten überein.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Exakte Definition (mathematische Begriffe, die nicht weiter erklärt werden, deren Definition man aber in Lehrbüchern findet, werden "<em>kursiv und in Anführungszeichen</em>" geschrieben): <em>Linienzug</em> heisst eine Teilmenge des Raumes, die "<em>Bildmenge</em>" einer "stetigen" und "<em>stückweise glatten</em>" (aber nicht notwendigerweise "<em>injektiven</em>") "<em>Abbildung</em>" eines "<em>Intervalls</em>" ist (der so genannten <em>zugeordneten Abbildung</em>) und nur endlich viele "<em>nicht glatte Stellen</em>" aufweist. Eine "<em>nicht glatte Stelle</em>" heisst Ecke. Bei einem <em>geschlossenen Linienzug</em> stimmen Anfangs- und Endpunkt überein. <em>Einfacher Linienzug</em> heisst ein Linienzug, dessen zugeordnete Abbildung auch "<em>injektiv</em>" ist. <em>Einfach geschlossener Linienzug</em> heisst ein Linienzug, dessen zugeordnete Abbildung auch "<em>injektiv</em>" ist, abgesehen von seinem Anfangs- und Endpunkt, die übereinstimmen.</p>
</div>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig12.png" alt="refhb24 fig12">
</div>
<div class="title">Figure 5. Beispiele von (ebenen) Linienzügen.</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig13.png" alt="refhb24 fig13">
</div>
<div class="title">Figure 6. Beispiele von ebenen Mengen, die nicht Linienzüge sind (ein doppelter Kreis bedeutet hier "nicht stetig" und der Rhombus "nicht Bild eines Intervalls").</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig14.png" alt="refhb24 fig14">
</div>
<div class="title">Figure 7. Beispiele von (ebenen) einfachen Linienzügen.</div>
</div>
</div>
<div class="sect4">
<h5 id="_linienzug_mit_strecken_und_kreisbogen_als_vordefinierte_kurvenstücke">Linienzug mit Strecken und Kreisbogen als vordefinierte Kurvenstücke</h5>
<div class="paragraph">
<p>INTERLIS 2 kennt gerichtete (<code>DIRECTED POLYLINE</code>), ungerichtete (<code>POLYLINE</code>) oder eine Menge von ungerichteten (<code>MULTIPOLYLINE</code>) Linienzügen. Bei einem einzelnen Linienzug (<code>[DIRECTED] POLYLINE</code>) sind aber beim Transfer eines Ausschnittes auch <code>MULTIPOLYLINE</code> zulässig (vgl. Kapitel 3.3.6 Codierung von Themen). Bei einer Menge von Linienzügen (<code>MULTIPOLYLINE</code>) müssen die einzelnen Linienzüge nicht miteinander verbunden sein. Zudem werden Linienzüge im Rahmen von Einzelflächen und Gebietseinteilungen (vgl. Kapitel 2.8.13 Einzelflächen und Gebietseinteilungen) verwendet.</p>
</div>
<div class="paragraph">
<p>Zur Definition eines konkreten Linienzug-Wertebereichs gehört immer die Angabe der erlaubten Kurvenstück-Formen mittels Aufzählung, z.B. Strecken (Schlüsselwort <code>STRAIGHTS</code>), Kreisbogen (Schlüsselwort <code>ARCS</code>) oder weitere Möglichkeiten (vgl. Kapitel 2.8.12.3 Weitere Kurvenstück-Formen), und die Angabe des Wertebereichs der Stützpunkte. In einem abstrakten Linienzug-Wertebereich dürfen diese Angaben fehlen. Für Wertebereichserweiterungen gelten folgende Regeln:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Die Kurvenstück-Form darf nur reduziert, nicht aber ergänzt werden.</p>
</li>
<li>
<p>Der Koordinaten-Wertebereich, der im Rahmen einer Erweiterung eines Linienzug-Wertebereichs angegeben wird, muss eine Einschränkung des Koordinaten-Wertebereichs des Basis-Linienzug-Wertebereichs sein, sofern ein solcher definiert ist.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die Kurvenstücke werden immer als Erweiterung der Grundstruktur 'LineSegment' aufgefasst. Der darin verwendete Koordinatenwertebereich ist der in der Liniendefinition angegebene.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>STRUCTURE LineSegment (ABSTRACT) =
  SegmentEndPoint: MANDATORY LineCoord;
END LineSegment;

STRUCTURE StartSegment (FINAL) EXTENDS LineSegment =
END StartSegment;

STRUCTURE StraightSegment (FINAL) EXTENDS LineSegment =
END StraightSegment;

STRUCTURE ArcSegment (FINAL) EXTENDS LineSegment =
  ArcPoint: MANDATORY LineCoord;
  Radius: NUMERIC [LENGTH];
END ArcSegment;</pre>
</div>
</div>
<div class="paragraph">
<p>Das erste Kurvenstück eines Linienzuges ist immer ein Startsegment. Das Startsegment besteht nur aus dem Startpunkt selbst, der zugleich auch Endpunkt des Startsegments ist. Das Geradenstück hat einen Endpunkt und definiert dadurch eine Strecke vom Endpunkt des vorherigen Kurvenstücks zu seinem Endpunkt. Startsegment und Geradenstücke brauchen keine weiteren Angaben. Die entsprechenden Erweiterungen von 'LineSegment' sind darum leer. Zwei aufeinander folgende Stützpunkte (SegmentEndPoints) dürfen in der Projektion nicht aufeinander fallen.</p>
</div>
<div class="paragraph">
<p>Ein Kreisbogenstück beschreibt ein Kurvenstück, das in der Projektion als echtes Kreisbogenstück erscheint. Ein Kreisbogenstück wird zusätzlich zum Endpunkt mit einem Zwischenpunkt beschrieben. Dieser ist nur in der Lage von Bedeutung. Bei dreidimensionalen Koordinaten wird die Höhe auf dem Kreisbogenstück linear interpoliert. Man kann sich die Kurve als Gewindestück einer zylindrischen Schraube vorstellen, die senkrecht auf der Projektionsfläche steht. Der Zwischenpunkt ist kein Stützpunkt des Linienzuges. Er soll möglichst exakt in der Mitte zwischen Anfangs- und Endpunkt liegen. Der Zwischenpunkt wird mindestens in der gleichen Genauigkeit angegeben (Anzahl Nachkommastellen) wie die Stützpunkte. Um numerische Probleme (vgl. unten) zu vermeiden, sollen Stützpunkte möglichst mit zusätzlicher Genauigkeit transferiert werden. Dennoch kann der berechnete Radius erheblich vom effektiven Radius abweichen. Wird der effektive Radius angegeben, ist er für die Kreisbogendefinition massgebend. Der Zwischenpunkt legt nur noch fest, welcher der vier möglichen Kreisbogen der gewünschte ist. Der Zwischenpunkt darf aber auch in diesem Fall um höchstens 1 Genauigkeitseinheit (der Wert 1 der hintersten Stelle gemäss Wertebereichsdefinition; z.B. 0.001 bei Koordinaten mit 3 Nachkommastellen) von der Spur des aus dem Radius gerechneten Kreisbogens abweichen. Aus fachlicher Sicht soll oft ausgedrückt werden, dass es sich bei einem Linienzug um einen einfachen Linienzug handelt, d.h. anschaulich, dass er sich nicht mit sich selbst schneiden darf und insbesondere mehrfache Benützung desselben Kurvenstücks ausgeschlossen ist (Schlüsselwort <code>WITHOUT OVERLAPS</code>). Dieses Anliegen wird auch durch verschiedene konkrete Systeme unterstützt. Dabei besteht allerdings das technische Problem, dass in Grenzsituationen (insbesondere im Zusammenhang mit Kreisbogen) unterschiedliche Systeme auf Grund unterschiedlicher Rechengenauigkeiten und unterschiedlicher Berechnungsweisen zu unterschiedlichen Resultaten bezüglich Überschneidung kommen. Es muss also damit gerechnet werden, dass ein System kleine Überlappungen akzeptiert oder umgekehrt Überlappungen reklamiert, obwohl ein anderes System zu anderen Schlüssen kommt. "Klein" heisst dabei, dass die potentielle Überlappung kleiner ist als der Wert 1 der hintersten Stelle gemäss Wertebereichsdefinition multipliziert mit der Hälfte der Quadratwurzel von 2 [z.B. 0.001 * sqrt(2) / 2 bei Koordinaten mit 3 Nachkommastellen].</p>
</div>
<div class="paragraph">
<p>Aus fachlicher Sicht kann es vor allem bei der Übernahme von Daten, die ursprünglich grafisch erfasst wurden, auch Sinn machen, grössere Überlappungen (z.B. einige Zentimeter) zu tolerieren, um einen enormen Nachbearbeitungsaufwand zu vermeiden.</p>
</div>
<div class="paragraph">
<p>Um beide Anliegen zu unterstützen, wird die Überlappungsfreiheit wie folgt geregelt:</p>
</div>
<div class="paragraph">
<p>Wenn ein Kreisbogen und eine Strecke (bzw. ein anderer Kreisbogen) als aufeinander folgende Kurvenstücke eines Linienzuges neben dem gemeinsamen Stützpunkt auch noch einen inneren Punkt (keinen Stützpunkt) gemeinsam haben, so ist das auch bei einem einfachen Linienzug erlaubt, falls das von der Strecke abgeschnittene Kreissegment (bzw. das vom anderen Kreisbogen abgeschnittene Doppel-Kreissegment) eine Pfeilhöhe aufweist, die kleiner oder gleich der definierten Toleranz ist. Fehlt die Toleranzangabe, gilt der Wert gemäss den technischen Überlegungen (vgl. oben). Bei expliziter Angabe (auf WITHOUT OVERLAPS &gt; folgende Dezimalzahl) muss sie mit derselben numerischen Bedeutung wie diejenige der Stützpunktkoordinaten erfolgen und einen Wert grösser Null aufweisen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig15.png" alt="refhb24 fig15">
</div>
<div class="title">Figure 8. a) Die Pfeilhöhe darf nicht grösser als die angegebene Toleranz sein; b), c) unzulässige Überschneidungen eines Linienzuges, da Strecke und Kreisbogen, die sich treffen, nicht von einem gemeinsamen Stützpunkt ausgehen.</div>
</div>
<div class="paragraph">
<p>Bei Einzelflächen und Gebietseinteilung ist die Überlappungsfreiheit zwingend. Bei Verwendung der impliziten Toleranz kann deshalb auf <code>WITHOUT OVERLAPS</code> verzichtet werden.</p>
</div>
<div class="paragraph">
<p>Die Toleranzangabe (explizit oder implizit) kann nicht übersteuert werden. Im Rahmen von Wertebereichsdefinitionen und Attributserweiterungen können ungerichtete Linienzüge zu gerichteten Linienzügen erweitert werden (vgl. Kapitel 2.8.13.4 Erweiterbarkeit).</p>
</div>
<div class="paragraph">
<p>Sind Linienzüge gerichtet, muss ihr Richtungssinn immer (auch bei einem Datentransfer) erhalten bleiben.</p>
</div>
<div class="paragraph">
<p>Für die Stützpunkte wird der Wertebereich der Koordinaten definiert. Mittels der Existenzbedingung <code>REQUIRED IN</code> (vgl. Kapitel 2.12 Konsistenzbedingungen und Kapitel 2.13 Ausdrücke) kann zudem gefordert werden, dass die Koordinaten nicht beliebig sein dürfen, sondern denjenigen der Punkte bestimmter Klassen entsprechen müssen.</p>
</div>
<div class="paragraph">
<p>Ist der Koordinatentyp der Stützpunkte abstrakt, muss der Linienzug seinerseits als abstrakt deklariert werden.</p>
</div>
<a href="#2_8_C14">&#x203B</a>
<div id="2_8_C14" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>LineType = ( [ 'DIRECTED' ] 'POLYLINE' | 'SURFACE' | 'AREA' |
            [ 'DIRECTED' ] 'MULTIPOLYLINE' | 'MULTISURFACE' | 'MULTIAREA' )
           [ LineForm ] [ ControlPoints ] [ IntersectionDef ].

LineForm = 'WITH' '(' LineFormType { ',' LineFormType } ')'.

LineFormType = ( 'STRAIGHTS' | 'ARCS'
               | [ Model-Name '.' ] LineFormType-Name ).

ControlPoints = 'VERTEX' CoordType-DomainRef.

IntersectionDef = 'WITHOUT' 'OVERLAPS' [ '&gt;' Dec ].</pre>
</div>
</div>
<div class="paragraph">
<p>Linien können auf generischen Koordinaten aufbauen, ohne dass sie selbst als generisch deklariert werden. Sie erhalten ihre konkrete Festlegung mit der Festlegung des Koordinaten-Wertebereichs (im Rahmen einer Kontextdefinition bzw. im Rahmen des Datentransfers). Es ist dafür nicht nötig (aber durchaus zulässig), dass zu Linien-Wertebereichen, die auf generischen Koordinaten-Wertebereichen aufbauen, Linien-Wertebereiche definiert sind, die auf konkreten Koordinaten-Wertebereichen aufbauen.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  Coord2 (GENERIC) = COORD NUMERIC, NUMERIC;
  Line = POLYLINE WITH (STRAIGHTS, ARCS) VERTEX Coord2;</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_weitere_kurvenstück_formen">Weitere Kurvenstück-Formen</h5>
<div class="paragraph">
<p>Nebst Geradenstücken und Kreisbogen sind weitere Kurvenstück-Formen definierbar. Nebst dem Namen muss angegeben werden, gemäss welcher Struktur ein Kurvenstück beschrieben wird.</p>
</div>
<a href="#2_8_C15">&#x203B</a>
<div id="2_8_C15" class="listingblock">
<div class="title">Syntaxregeln</div>
<div class="content">
<pre>LineFormTypeDef = 'LINE' 'FORM'
                    { LineFormType-Name ':' LineStructure-Name ';' }.</pre>
</div>
</div>
<div class="paragraph">
<p>Eine Linienstruktur muss immer eine Erweiterung der durch INTERLIS definierten Struktur LineSegment sein (vgl. Kapitel 2.8.12.2 Linienzug mit Strecken und Kreisbogen als vordefinierte Kurvenstücke).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_einzelflächen_und_gebietseinteilungen">Einzelflächen und Gebietseinteilungen</h4>
<div class="sect4">
<h5 id="_geometrie_von_flächen">Geometrie von Flächen</h5>
<div class="paragraph">
<p>Für die Modellierung von Geodaten genügen meist ebene Flächen. INTERLIS unterstützt darüber hinaus ebene allgemeine Flächen. Anschaulich ist eine ebene allgemeine Fläche durch eine äussere und allenfalls eine oder mehrere innere Randlinien begrenzt (siehe Figur 20). Die Randlinien selbst müssen aus einfachen Linienzügen bestehen, die aus geometrischer Sicht jeweils zu einfach geschlossenen Linienzügen zusammengefasst werden können. Sie müssen zudem so angeordnet sein, dass es von einem beliebigen Punkt im Innern der Fläche immer einen Weg zu einem beliebigen anderen Punkt im Innern der Fläche gibt, der weder eine Randlinie schneidet noch einen Stützpunkt einer Randlinie enthält (siehe Figur 19). Soweit diese Bedingung nicht verletzt wird, dürfen sich Ränder in Stützpunkten berühren. In solchen Situationen kann man sich verschiedene Möglichkeiten vorstellen, wie die Umrandung der Fläche als Ganzes in einzelne Linienzüge aufgeteilt wird (siehe Figur 22). INTERLIS macht keine Vorschriften, welche Möglichkeit gewählt wird. Wird eine solche Fläche mehrmals transferiert, dürfen in den verschiedenen Übertragungen auch unterschiedliche Aufteilungen vorkommen.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Exakte Definitionen (mathematische Begriffe, die nicht weiter erklärt werden, deren Definition man aber in Lehrbüchern findet, werden "<em>kursiv und in Anführungszeichen</em>" geschrieben):</p>
</div>
<div class="paragraph">
<p><em>Flächenelement</em> heisst eine Teilmenge des <em>Raumes</em>, die "<em>Bildmenge</em>" einer "<em>glatten</em>" und "<em>injektiven</em>" "<em>Abbildung</em>" eines "<em>ebenen</em>" "<em>regulären Vielecks</em>" ist (siehe Figuren 16 und 17).</p>
</div>
<div class="paragraph">
<p><em>Fläche</em> heisst die Vereinigung <em>F</em> von endlich vielen Flächenelementen, die "<em>zusammenhängend</em>" ist und folgender Bedingung genügt: Zu jedem Punkt <em>P</em> der Fläche gibt es eine "<em>Umgebung</em>", die sich in ein ebenes reguläres Vieleck <em>deformieren</em> (d.h. "<em>homöomorph abbilden</em>") lässt. Wenn bei einer solchen Deformation der Punkt <em>P</em> in den Rand des Vielecks übergeführt wird, heisst er <em>Randpunkt</em> von <em>F</em>, andernfalls <em>innerer Punkt</em> von <em>F</em>. Es gilt: Der "<em>Rand</em>" (d.h. die Menge aller Randpunkte) einer Fläche ist die Vereinigung von endlich vielen Kurvenstücken, die nur Endpunkte gemeinsam haben. Eine <em>ebene Fläche</em> ist eine Fläche, die Teilmenge einer <em>Ebene</em> ist. Es gilt: Der Rand einer "<em>einfach zusammenhängenden</em>" ebenen Fläche (anschaulich: einer Fläche ohne Löcher) ist ein einfach geschlossener Linienzug und heisst <em>äusserer Rand</em>. Der Rand einer "<em>n-fach zusammenhängenden</em>" ebenen Fläche (anschaulich: einer Fläche mit <em>n-1</em> Löchern) besteht aus dem entsprechenden äusseren Rand und aus <em>n-1</em> weiteren einfach geschlossenen Linienzügen (den so genannten <em>inneren Rändern</em>). Der äussere Rand und alle inneren Ränder haben keine Punkte gemeinsam. Ein durch einen inneren Rand ausgespartes Flächenstück heisst <em>Enklave</em> (siehe Figuren 18, 19 und 20).
Eine <em>allgemeine Fläche</em> ist eine Fläche mit zusätzlich endlich vielen <em>singulären Punkten</em> aber mit "<em>zusammenhängendem</em>" <em>Inneren</em> (Menge der inneren Punkte). Ein <em>singulärer Punkt</em> kann zusammen mit einer "<em>Umgebung</em>" in eine ebene <em>Propellermenge</em> deformiert werden, er selbst ins <em>Zentrum</em>. <em>Propellermenge</em> heisst die Vereinigung endlich vieler Dreiecksflächen, die genau einen Punkt gemeinsam haben, das <em>Zentrum</em>. <em>Ebene allgemeine Fläche</em> heisst eine allgemeine Fläche, die Teilmenge einer <em>Ebene</em> ist (siehe Figur 21). Es gilt: Der Rand einer ebenen allgemeinen Fläche kann auf verschiedene Art zusammengesetzt werden aus endlich vielen geschlossenen Linienzügen, die höchstens endlich viele Punkte gemeinsam haben und je höchstens endlich viele Doppelpunkte aufweisen (siehe Figur 22).</p>
</div>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig16.png" alt="refhb24 fig16">
</div>
<div class="title">Figure 9. Beispiele von Flächenelementen.</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig17.png" alt="refhb24 fig17">
</div>
<div class="title">Figure 10. Beispiele von Punktmengen im Raum, die nicht Flächenelemente sind (ein doppelter Kreis bedeutet hier "nicht glatt").</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig18.png" alt="refhb24 fig18">
</div>
<div class="title">Figure 11. Beispiele von Flächen im Raum.</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig19.png" alt="refhb24 fig19">
</div>
<div class="title">Figure 12. Beispiele ebener Punktmengen, die nicht Flächen sind (ein doppelter Kreis bedeutet "singulärer Punkt").</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig20.png" alt="refhb24 fig20">
</div>
<div class="title">Figure 13. Ebene Fläche mit Rändern und Enklaven.</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig21.png" alt="refhb24 fig21">
</div>
<div class="title">Figure 14. a) Beispiele von allgemeinen ebenen Flächen; b) Beispiele von ebenen Mengen, die nicht allgemeine Flächen sind, weil ihr Inneres nicht zusammenhängend ist. Diese ebenen Mengen können aber in allgemeine Flächen unterteilt werden ("---" zeigt die Unterteilung in Flächenelemente und "===" die Unterteilung in allgemeine Flächen).</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig22.png" alt="refhb24 fig22">
</div>
<div class="title">Figure 15. Verschiedene mögliche Aufteilungen des Randes einer allgemeinen Fläche.</div>
</div>
<div class="paragraph">
<p>Mit der Definition von (allgemeinen) Einzelflächen bzw. (allgemeinen) Flächen einer Gebietseinteilung wird auch festgelegt, oberhalb welcher Toleranz sich die Kurvenstücke des Randes nicht überlappen dürfen (ohne Angabe von <code>WITHOUT OVERLAPS</code> gilt die implizite bzw. die geerbte Toleranz). Das Überlappungs- bzw. Schnittverbot gilt bei Einzelflächen nicht nur zwischen den Kurvenstücken eines einzelnen Linienzuges sondern zwischen allen Kurvenstücken aller Linienzüge des Flächenrandes. Für Flächen einer Gebietseinteilung gilt es sogar für alle an der Gebietseinteilung beteiligten Linienzüge. Zudem sind Linienzüge, die nicht zum Rand einer (allgemeinen) Fläche gehören, gemäss Definition der (allgemeinen) Fläche ausgeschlossen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig23.png" alt="refhb24 fig23">
</div>
<div class="title">Figure 16. Nicht erlaubte Linien von Flächen.</div>
</div>
</div>
<div class="sect4">
<h5 id="_einzelflächen">Einzelflächen</h5>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig24.png" alt="refhb24 fig24">
</div>
<div class="title">Figure 17. Einzelflächen (<code>SURFACE</code>).</div>
</div>
<div class="paragraph">
<p>Für (allgemeine) Flächen, die sich ganz oder teilweise überlappen dürfen, d.h. die nicht nur Randpunkte gemeinsam haben dürfen, steht der geometrische Attributtyp <code>SURFACE</code> zur Verfügung (siehe Figur 24). Dieser Typ wird Einzelflächen genannt. Eine Einzelfläche hat einen äusseren und allenfalls mehrere inneren Ränder (um die Enklaven). Jeder Rand besteht aus mindestens einem Linienzug.</p>
</div>
<div class="paragraph">
<p>Mit dem Attributtyp <code>MULTISURFACE</code> kann auch eine Menge von Einzelflächen als ein einzelner Wert definiert werden. Die einzelnen Flächen eines MULTISURFACE-Wertes dürfen keine gemeinsamen Kanten haben und dürfen sich abgesehen von Overlaps nicht überlappen.</p>
</div>
</div>
<div class="sect4">
<h5 id="_flächen_einer_gebietseinteilung">Flächen einer Gebietseinteilung</h5>
<div class="imageblock">
<div class="content">
<img src="{includedir}/img/refhb24_fig25.png" alt="refhb24 fig25">
</div>
<div class="title">Figure 18. Gebietseinteilung (<code>AREA</code>).</div>
</div>
<div class="paragraph">
<p><em>Gebietseinteilung (Flächennetz)</em> heisst eine endliche Menge von (allgemeinen) Flächen und Restflächen, welche die Ebene überlappungsfrei überdecken.</p>
</div>
<div class="paragraph">
<p>Für Gebietseinteilungen steht der geometrische Attributtyp <code>AREA</code> zur Verfügung.</p>
</div>
<div class="paragraph">
<p>Jedem Gebietsobjekt ist höchstens eine Fläche der Gebietseinteilung (oder genau eine mit Zusatz-Schlüsselwort <code>MANDATORY</code>), nicht aber die Restfläche, zugeordnet. Es ist nicht zulässig, dass zwei Flächen der Gebietseinteilung mit einem gemeinsamen Rand je keinem Gebietsobjekt entsprechen.</p>
</div>
<div class="paragraph">
<p>Jedes einzelne Gebietsobjekt entspricht damit einer Einzelfläche. Für Gebietsobjekte ergibt sich damit auch die gleiche implizite Struktur wie für Einzelflächen. Zusätzlich gelten aber Konsistenzbedingungen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Linienzüge einer Gebietseinteilung müssen immer echte Grenzlinien sein. Es dürfen also keine Linienzüge existieren, bei denen auf beiden Seiten die gleiche Fläche liegt (siehe Figur 23). Dies ist auch durch die Definition der Fläche ausgeschlossen.</p>
</li>
<li>
<p>Liegen auf beiden Seiten eines Linienzuges definierte Gebietsobjekte, muss jedes Kurvenstück (Verbindung zweier Stützpunkte) des einen Gebietsobjektes in Geometrie und Attributen genau einem Kurvenstück des anderen Gebietsobjektes entsprechen.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Gebietseinteilungen dürfen nicht innerhalb von Unterstrukturen vorkommen.</p>
</div>
<div class="paragraph">
<p>Damit die Linienzüge einer Gebietseinteilung auch als einzelne Objekte angesprochen werden können (und zwar als ein Objekt, auch wenn der Linienzug zwei Gebietsobjekte begrenzt), steht die <code>AREA INSPECTION</code> zur Verfügung (vgl. Kapitel 2.15 Sichten).</p>
</div>
</div>
<div class="sect4">
<h5 id="_erweiterbarkeit">Erweiterbarkeit</h5>
<div class="paragraph">
<p>Einzelflächen können zu Gebietseinteilungen erweitert werden. Die Erweiterung eines Linienzuges zu einer Fläche ist unzulässig, da bei einer Fläche mit mehreren Linienzügen gerechnet werden muss, während mit der Definition eines Linienzuges nur einer erwartet wird.</p>
</div>
<div class="paragraph">
<p>Unabhängige Flächen und Flächen einer Gebietseinteilung können in zweierlei Hinsicht erweitert werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ist primär <code>SURFACE</code> definiert, sind also Überlappungen zugelassen, darf dies in Erweiterungen durch <code>AREA</code> ersetzt werden, da damit die Grunddefinition nicht verletzt wird.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_einheiten">Einheiten</h3>
<div class="paragraph">
<p>Einheiten werden immer durch eine Bezeichnung und (in [ ]-Klammern) ein Kurzzeichen beschrieben. Bezeichnung und Kurzzeichen müssen Namen sein. Fehlt die Kurzzeichen-Angabe, ist sie gleich der Bezeichnung. Je nach Art der Einheit können weitere Angaben folgen. Der Gebrauch einer Einheit erfolgt immer über das Kurzzeichen. Die Bezeichnung hat damit nur dokumentarischen Charakter.</p>
</div>
<div class="sect3">
<h4 id="_basiseinheiten">Basiseinheiten</h4>
<div class="paragraph">
<p>Basis-Einheiten sind Meter, Sekunden, etc. Sie brauchen keine weiteren Angaben mehr. Basis-Einheiten können aber auch abstrakt (Schlüsselwort <code>ABSTRACT</code>) definiert werden, wenn die Einheit selbst noch nicht bekannt ist, wohl aber der zu bezeichnende Gegenstand (z.B. Temperatur, Geld). Abstrakten Einheiten ist noch kein Kurzzeichen zugeordnet. Konkrete Einheiten können nicht mehr erweitert werden.</p>
</div>
<div class="exampleblock">
<div class="title">Example 10. Beispiele:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>UNIT
  Laenge (ABSTRACT);
  Zeit (ABSTRACT);
  Geld (ABSTRACT);
  Temperatur (ABSTRACT);
  Meter [m] EXTENDS Laenge;
  Sekunde [s] EXTENDS Zeit;
  SchweizerFranken [CHF] EXTENDS Geld;
  Celsius [C] EXTENDS Temperatur;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Durch INTERLIS selbst ist die abstrakte Einheit <code>ANYUNIT</code> definiert. Alle anderen Einheiten erben sie direkt oder indirekt (vgl. Kapitel 2.10.3 Referenzsysteme), ohne dass dies definiert werden muss. Folgende Einheiten sind durch INTERLIS direkt (d.h. intern) definiert:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>UNIT
  ANYUNIT            (ABSTRACT);
  DIMENSIONLESS      (ABSTRACT);
  LENGTH             (ABSTRACT);
  MASS               (ABSTRACT);
  TIME               (ABSTRACT);
  ELECTRIC_CURRENT   (ABSTRACT);
  TEMPERATURE        (ABSTRACT);
  AMOUNT_OF_MATTER   (ABSTRACT);
  ANGLE              (ABSTRACT);
  SOLID_ANGLE        (ABSTRACT);
  LUMINOUS_INTENSITY (ABSTRACT);
  MONEY              (ABSTRACT);

  METER [m]          EXTENDS LENGTH;
  KILOGRAMM [kg]     EXTENDS MASS;
  SECOND [s]         EXTENDS TIME;
  AMPERE [A]         EXTENDS ELECTRIC_CURRENT;
  DEGREE_KELVIN [K]  EXTENDS TEMPERATURE;
  MOLE [mol]         EXTENDS AMOUNT_OF_MATTER;
  RADIAN [rad]       EXTENDS ANGLE;
  STERADIAN [sr]     EXTENDS SOLID_ANGLE;
  CANDELA [cd]       EXTENDS LUMINOUS_INTENSITY;</pre>
</div>
</div>
<div class="paragraph">
<p>Hinweis: Im Anhang H Einheiten-Definitionen sind die gebräuchlichsten Einheiten in einem erweiterten Typenmodell zusammengefasst.</p>
</div>
</div>
<div class="sect3">
<h4 id="_abgeleitete_einheiten">Abgeleitete Einheiten</h4>
<div class="paragraph">
<p>Abgeleitete Einheiten sind durch Multiplikationen bzw. Divisionen mit Konstanten oder Funktion in eine andere Einheit umrechenbar.</p>
</div>
<div class="exampleblock">
<div class="title">Example 11. Beispiele:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>UNIT
  Kilometer [km] = 1000 [m];
  Centimeter [cm] = 1 / 100 [m];
  Inch [in] = 0.0254 [m];         !! 1 Zoll ist 2.54 cm
  Fahrenheit [oF] = FUNCTION // (oF + 459.67) / 1.8 // [K];</pre>
</div>
</div>
<div class="paragraph">
<p>Werte in Kilometer müssen mit Tausend multipliziert werden, um Werte in Meter zu werden. Werte in Inch müssen mit 2.54 multipliziert werden um Werte in Zentimeter zu werden. Werte in Grad Fahrenheit müssen um 459.67 erhöht und durch 1.8 dividiert werden um zu Kelvin-Werten zu werden.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Eine abgeleitete Einheit ist automatisch eine Erweiterung der gleichen abstrakten Einheit, wie diejenige in die sie umgerechnet werden kann.</p>
</div>
</div>
<div class="sect3">
<h4 id="_zusammengesetze_einheiten">Zusammengesetze Einheiten</h4>
<div class="paragraph">
<p>Zusammengesetzte Einheiten (z.B. km pro h) ergeben sich durch Multiplikationen oder Divisionen von anderen Einheiten (Basis-Einheit, abgeleitete oder zusammengesetzte Einheit). Zusammengesetzte Einheiten können auch als abstrakte Einheiten definiert werden. Sie müssen sich dann vollständig auf andere abstrakte Einheiten beziehen.</p>
</div>
<div class="paragraph">
<p>Die bei der konkreten Erweiterung verwendeten Einheiten müssen dann konkrete Erweiterungen der in der abstrakten Definition verwendeten Einheiten sein.</p>
</div>
<div class="exampleblock">
<div class="title">Example 12. Beispiel:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>UNIT
  Geschwindigkeit (ABSTRACT) = ( Laenge / Zeit );
  Stundenkilometer [kmph] EXTENDS Geschwindigkeit = ( km / h );</pre>
</div>
</div>
</div>
</div>
<div class="listingblock">
<div class="title">Syntaxtegeln</div>
<div class="content">
<pre>UnitDef = 'UNIT'
            { Unit-Name
                [ '(' 'ABSTRACT' ')' | '[' UnitShort-Name ']' ]
                [ 'EXTENDS' Abstract-UnitRef ]
                [ '=' ( DerivedUnit | ComposedUnit ) ] ';' }.

DerivedUnit = [ DecConst { ( '*' | '/' ) DecConst }
              | 'FUNCTION' Explanation ] '[' UnitRef ']'.

ComposedUnit = '(' UnitRef { ( '*' | '/' ) UnitRef } ')'.

UnitRef = [ Model-Name '.' [ Topic-Name '.' ] ] UnitShort-Name.</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_umgang_mit_metaobjekten">Umgang mit Metaobjekten</h3>
<div class="sect3">
<h4 id="_allgemeine_aussagen_zu_metaobjekten">Allgemeine Aussagen zu Metaobjekten</h4>
<div class="paragraph">
<p>Metaobjekte im Sinne von INTERLIS 2 sind Objekte, die im Rahmen der Beschreibung von Anwendungsmodellen von Bedeutung sind. Dies wird für Referenzsysteme und Grafiksignaturen genutzt.</p>
</div>
<div class="paragraph">
<p>Der Aufbau von Referenzsystem- oder Signaturobjekten muss in einem <code>REFSYSTEM MODEL</code> oder einem <code>SYMBOLOGY MODEL</code> mit den üblichen Mitteln von Klassen und Strukturen definiert sein. Referenzsystem-, Achsen- bzw. Signatur-Klassen müssen dabei Erweiterungen der durch INTERLIS angebotenen Klassen <code>COORDSYSTEM</code>, <code>REFSYSTEM</code>, <code>AXIS</code> bzw. <code>SIGN</code> sein, die ihrerseits Erweiterungen der Klasse <code>METAOBJECT</code> sind. Diese weist ein Attribut Name auf, das im Rahmen aller Metaobjekte eines Behälters eindeutig sein muss.</p>
</div>
<div class="paragraph">
<p>Für die eigentliche Beschreibung eines Anwendungsmodells wird das Metaobjekt selbst nicht gebraucht. Es genügt, den Namen als Stellvertreter des Metaobjektes zu kennen. Für ein laufendes System müssen die Metaobjekte jedoch in der Regel vollständig, also mit allen ihren Attributen, bekannt sein. Für ein Laufzeitsystem muss es darum klar sein, in welchem Behälter ein Metaobjekt mit einem bestimmten Namen enthalten ist. Damit Metaobjekte (bzw. ihre Namen) in Modellen verwendet werden können, müssen sie deklariert werden. Dabei wird ein Behältername eingeführt, das dabei vorausgesetzte Thema angegeben und dann (pro Klasse) die Namen der dort erwarteten Objekte aufgezählt (Regel MetaDataBasketDef). Der Behältername kann dabei auch als Erweiterung eines bereits eingeführten Namens definiert werden (<code>EXTENDS</code>). Das zugehörige Thema muss dann das gleiche wie beim Basisnamen oder eine Erweiterung davon sein.</p>
</div>
<div class="paragraph">
<p>Wird der Bezug auf ein Metaobjekt (Regel MetaObjectRef) unter dem erweiterten Behälternamen gemacht, muss der Name des Metaobjektes dort oder in einer geerbten Definition erwähnt sein. Von einem Laufzeitsystem wird das Metaobjekt zuerst im zugehörigen Behälter gesucht. Wird dort kein solches Metaobjekt gefunden, wird die Suche in den Behältern gemäss den direkt oder indirekt geerbten Behälternamen fortgesetzt. Damit können Metaobjekte in mehreren Stufen bereitgestellt und verfeinert werden. Zum Beispiel können zunächst allgemeine Grafiksignaturen definiert werden, die dann auf regionaler Stufe verfeinert und ergänzt werden. Wie der konkrete Behälter auf Grund des Behälternamens angesprochen werden kann, ist dabei Sache des eingesetzten Laufzeitsystems.</p>
</div>
<div class="paragraph">
<p>In einem übersetzten Anwendungsmodell (vgl. Kapitel 2.5.1 Modelle), kann einem Behälternamen auch ein konkreter Behälter zugewiesen werden, der nur Übersetzungen enthält (METAOBJECT_TRANSLATION Objekte; vgl. Anhang A Das interne INTERLIS-Datenmodell). Damit werden diejenigen Metaobjekte übersetzt, die durch den entsprechenden Behälter im zu Grunde liegenden Modell eingeführt wurden. Ist das zu Grunde liegende Modell selbst eine Übersetzung, kann auch da dem Behälternamen ein konkreter Behälter zugewiesen sein, der nur Übersetzungen enthält. Ist das Modell keine Übersetzung, kann einem Behälternamen nur ein konkreter Behälter zugewiesen werden, der keine Übersetzungen (d.h. keine METAOBJECT_TRANSLATION Objekte) enthält.</p>
</div>
<a href="#2_10_C1">&#x203B</a>
<div id="2_10_C1" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>MetaDataBasketDef = ( 'SIGN' | 'REFSYSTEM' ) 'BASKET' Basket-Name
                       Properties&lt;FINAL&gt;
                       [ 'EXTENDS' MetaDataBasketRef ]
                           '~' TopicRef
                       { 'OBJECTS' 'OF' Class-Name ':' MetaObject-Name
                           { ',' MetaObject-Name } } ';'.

MetaDataBasketRef = [ Model-Name '.' [ Topic-Name '.' ] ] Basket-Name.

MetaObjectRef = [ MetaDataBasketRef '.' ] Metaobject-Name.</pre>
</div>
</div>
<div class="paragraph">
<p>Wird im aktuellen Kontext nur ein Metadaten-Behältername benötigt, muss die Referenz auf den Metadatenbehälter (MetaDataBasketRef) in der Metaobjekt-Referenz nicht angegeben werden.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter">Parameter</h4>
<div class="paragraph">
<p>Mittels Parametern werden im Metamodell diejenigen Eigenschaften bezeichnet, die nicht das Metaobjekt selbst, sondern dessen Gebrauch in der Anwendung betreffen. Ihre Definition ist durch das Schlüsselwort <code>PARAMETER</code> eingeleitet und ist ähnlich aufgebaut wie diejenige der Attribute.</p>
</div>
<div class="sect4">
<h5 id="_parameter_für_referenz_und_koordinatensysteme">Parameter für Referenz- und Koordinatensysteme</h5>
<div class="paragraph">
<p>Für Referenz- und Koordinatensysteme bzw. ihre Achsen ist nur der vordefinierte Parameter Unit zulässig.</p>
</div>
<div class="paragraph">
<p>Wird in der Definition eines numerischen Datentyps (vgl. Kapitel 2.8.5 Numerische Datentypen) oder eines Koordinatentyps (vgl. Kapitel 2.8.8 Koordinaten) auf ein Referenz- oder Koordinatensystem verwiesen (Regel RefSys) muss eine Einheit angegeben sein, die derjenigen der entsprechenden Achse des Koordinatensystems bzw. der einzigen Achse des Referenzsystems (vgl. Kapitel 2.10.3 Referenzsysteme) verträglich ist.</p>
</div>
</div>
<div class="sect4">
<h5 id="_parameter_von_signaturen">Parameter von Signaturen</h5>
<div class="paragraph">
<p>Die Parameter von Signaturen sind frei definierbar. Diese Parameter entsprechen den Angaben (z.B. Punktsymbol-Identifikation, Position, Drehung), die einem Grafiksystem übergeben werden müssen, damit es die Grafik erzeugen kann. Primär muss die Signatur selbst gewählt werden können. Dies erfolgt durch die Definition eines Parameters für die Referenz zur Signaturklasse, in der der Parameter definiert ist (<code>METAOBJECT</code>). Als Parameter einer Signatur kann auch eine Referenz zu einem anderen Meta-Objekt angegeben werden (<code>METAOBJECT OF</code>). In beiden Fällen wird in der Anwendung (vgl. Kapitel 2.16 Darstellungsbeschreibungen) eine Metaobjekt-Referenz angegeben, d.h. es werden der Behälterreferenzname und der Metaobjektname angegeben. Damit können die effektive Behälter-Identifikation und MetaObjektidentifikation durch das jeweilige Werkzeug bestimmt werden.</p>
</div>
<div class="paragraph">
<p>Nebst diesen speziellen Parametern können Parameter gleich wie Attribute definiert werden.</p>
</div>
<a href="#2_10_C2">&#x203B</a>
<div id="2_10_C2" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>ParameterDef = Parameter-Name Properties&lt;ABSTRACT,EXTENDED,FINAL&gt;
                 ':' ( AttrTypeDef
                     | 'METAOBJECT' [ 'OF' MetaObject-ClassRef ] ) ';'.</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_referenzsysteme">Referenzsysteme</h4>
<div class="paragraph">
<p>Ohne weitere Angaben sind numerische Werte und Koordinaten Differenzangaben; sie haben keinen definierten absoluten Bezug. Um dies zu erreichen, muss ein Koordinatensystem bzw. ein Skalarsystem definiert sein. Die Modelldefinition erfolgt dabei in einem <code>REFSYSTEM MODEL</code>. INTERLIS stellt dafür die folgenden Klassen zur Verfügung:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CLASS METAOBJECT (ABSTRACT) =
  Name: MANDATORY NAME;
UNIQUE Name;
END METAOBJECT;

STRUCTURE AXIS =
  PARAMETER
    Unit: NUMERIC [ ANYUNIT ];
END AXIS;

CLASS REFSYSTEM (ABSTRACT) EXTENDS METAOBJECT =
END REFSYSTEM;

CLASS COORDSYSTEM (ABSTRACT) EXTENDS REFSYSTEM =
  ATTRIBUTE
    Axis: LIST {1..3} OF AXIS;
END COORDSYSTEM;

CLASS SCALSYSTEM (ABSTRACT) EXTENDS REFSYSTEM =
  PARAMETER
    Unit: NUMERIC [ ANYUNIT ];
END SCALSYSTEM;</pre>
</div>
</div>
<div class="paragraph">
<p>In Erweiterungen können weitere für die Art der Skalar- und Koordinatensysteme typische Attribute beigefügt werden und auch die Einheit durch eine Erweiterung ersetzt werden (Syntax für die Parameterdefinition vgl. Kapitel 2.10.2 Parameter und Kapitel 2.5.3 Klassen und Strukturen). Die in einem Wertebereich definierte Einheit muss dann mit ihr verträglich sein (vgl. Kapitel 2.9 Einheiten).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_laufzeitparameter">Laufzeitparameter</h3>
<div class="paragraph">
<p>Nebst den eigentlichen Daten und den Metadaten können auch einzelne Datenelemente definiert werden, bei denen erwartet wird, dass sie von einem Bearbeitungs-, Auswerte- oder Darstellungssystem zur Laufzeit bereitgestellt werden. Sie heissen Laufzeitparameter.</p>
</div>
<a href="#2_11_C1">&#x203B</a>
<div id="2_11_C1" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>RunTimeParameterDef = 'PARAMETER'
                        { RunTimeParameter-Name ':' AttrTypeDef ';' }.</pre>
</div>
</div>
<div class="paragraph">
<p>Gebietseinteilungen (Schlüsselwort AREA) sind für Laufzeitparameter nicht zugelassen.</p>
</div>
<div class="paragraph">
<p>Typische Laufzeitparameter sind zum Beispiel der Darstellungsmassstab und das aktuelle Datum.</p>
</div>
</div>
<div class="sect2">
<h3 id="_konsistenzbedingungen">Konsistenzbedingungen</h3>
<div class="paragraph">
<p>Konsistenzbedingungen dienen der Definition von Einschränkungen, welchen die Objekte genügen müssen.</p>
</div>
<div class="paragraph">
<p>Konsistenzbedingungen können einen Namen haben, der innerhalb der Klasse bzw. des Wertebereichs zu dem sie definiert werden, eindeutig sein muss.</p>
</div>
<div class="paragraph">
<p>Konsistenzbedingungen, die sich auf ein einzelnes Objekt beziehen, werden durch einen logischen Ausdruck beschrieben, der sich auf die Attribute des Objektes bezieht (s. nächstes Kapitel). Solche Bedingungen dürfen keine Funktion verwenden, die auf einem Argument (typischerweise auf dem ersten) eine Menge von Objekten (<code>OBJECTS OF</code>) erwartet. Dabei können Konsistenzbedingungen definiert werden, die obligatorisch sind und somit für alle Objekte zwingend gelten (Schlüsselwort <code>MANDATORY</code>), und solche, die nur in der Regel gelten. Im letzteren Fall wird angegeben, welcher Prozentanteil der Instanzen der Klasse die Bedingung normalerweise erfüllen soll (Regel PlausibilityConstraint).</p>
</div>
<div class="paragraph">
<p>Mit der Existenzbedingung (Regel ExistenceConstraint) kann gefordert werden, dass der Wert eines Attributes jedes Objektes der Bedingungs-Klasse in einem bestimmten Attribut einer Instanz anderer Klassen vorkommt. Das bedingt, dass das Bedingungsattribut mit dem anderen Attribut kompatibel ist und hat folgende Wirkung:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ist der Wertebereich des Bedingungsattributes gleich dem Wertebereich des anderen Attributes oder einer Erweiterung davon, muss der Bedingungswert im verlangten Attribut einer anderen Instanz vorkommen.</p>
</li>
<li>
<p>Ist der Wertebereich des Attributes eine Struktur, werden alle darin enthaltenen Attribute verglichen.</p>
</li>
<li>
<p>Ist der Wertebereich des anderen Attributes eine Koordinate und der Wertebereich des Bedingungsattributes eine Linie, Einzelfläche oder Gebietseinteilung mit dem gleichen oder einem erweiterten Koordinatenbereich, müssen alle Koordinaten der Stützpunkte der Linie, Einzelfläche oder Gebietseinteilung im verlangten Attribut einer anderen Instanz vorkommen.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Eindeutigkeitsforderungen werden mit dem Schlüsselwort <code>UNIQUE</code> eingeleitet (Regel UniquenessConstraint).</p>
</div>
<div class="paragraph">
<p>Konzeptionell bedeutet "global", dass alle in beliebigen Behältern existierenden Objekte dieser Bedingung genügen müssen. Mit der Angabe (<code>BASKET</code>) gilt die Eindeutigkeitsbedingung nicht mehr global, sondern pro Basket.</p>
</div>
<div class="paragraph">
<p>Bei Strukturen, Klassen und Assoziationen kann gefordert werden, dass eine bestimmte Kombination von Attributen von Unterstrukturen, die mit BAG OF oder LIST OF definiert sind, lokal (<code>LOCAL</code>), d.h. im Rahmen aller dem aktuellen Objekt oder Strukturelement zugeordneten Strukturelemente, eindeutig sein müssen.</p>
</div>
<div class="exampleblock">
<div class="title">Example 13. Beispiel:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>CLASS A =
  K: (A, B, C);
  ID: TEXT*10;
UNIQUE K, ID;
END A;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Ist an einer Eindeutigkeitsbedingung (<code>UNIQUE</code>) ein Attribut beteiligt, dessen Wert undefiniert ist, gilt die Eindeutigkeitsbedingung für das aktuelle Objekt als erfüllt. Strukturattribute sind als Attribut einer Eindeutigkeitsbedingung nicht zulässig.</p>
</div>
<div class="paragraph">
<p>Ist eine Konsistenzbedingung (<code>MANDATORY CONSTRAINT</code>) nicht berechenbar (weil z.B. ein Attribut beteiligt ist, dessen Wert undefiniert ist, oder der Divisor 0 beträgt) so gilt die Konsistenzbedingung für das aktuelle Objekt als erfüllt.</p>
</div>
<div class="paragraph">
<p>Mit Konsistenzbedingungen, die sich auf die Klasse beziehen (<code>SET CONSTRAINT</code>), können Bedingungen formuliert werden, die für die Gesamtmenge der Objekte der Klasse (bzw. der Teilmenge, welche die einschränkende WHERE-Bedingung erfüllt) gelten. Solche Bedingungen müssen mindestens eine Funktion verwenden, die auf einem Argument (typischerweise auf dem ersten) eine Menge von Objekten (OBJECTS OF) erwartet. Um die Gesamtmenge der Objekte der Klasse (bzw. der Teilmenge, welche die einschränkende WHERE-Bedingung erfüllt) diesem Argument zu übergeben, wird <code>ALL</code> (ohne Angabe der eigenen Klasse) angegeben. Da sich solche Konsistenzbedingungen nicht auf das einzelne Objekt beziehen, können nie die Werte von Attributen angesprochen werden. Als weitere Argumente und für Vergleiche kommen darum nur Konstanten, Laufzeitparameter, Klassentypen, und Attributtypen und weitere Funktionsaufrufe, die diese Einschränkung erfüllen, in Frage.</p>
</div>
<div class="exampleblock">
<div class="title">Example 14. Beispiele:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>CLASS B =
  Art: (a, b, c);
  Geometrie: SURFACE ...;
SET CONSTRAINT WHERE Art == #a :
  areAreas(ALL, UNDEFINED, &gt;&gt; Geometrie);
END B;

STRUCTURE F =
  Geometrie: SURFACE ...;
END F;

CLASS C =
  Flaechen: BAG OF F;
SET CONSTRAINT
  areAreas(ALL, &gt;&gt; Flaechen, &gt;&gt; F-&gt;Geometrie);
END;</pre>
</div>
</div>
<div class="paragraph">
<p>Die Objekte der Klasse B, deren Art a ist, sollen wegen der Verwendung der Standardfunktion areAreas (vgl. Kapitel 2.14 Funktionen) ein Flächennetz bilden. Alle Flächen (gemäss Unterstruktur Flächen) der Objekte der Klasse C bilden eine Gebietseinteilung.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Weitergehende Konsistenzbedingungen müssen mittels Sichten (z.B. Sicht, die eine bestimmte Klasse mit sich selbst verbindet und damit beliebige Attributkombinationen mit allen anderen Objekten der Klasse vergleichbar machen) definiert werden. Solche Sichten müssen zwingend innerhalb des Datenmodells definiert werden.</p>
</div>
<div class="paragraph">
<p>Konsistenzbedingungen, die sich auf eine Vielzahl von Objekten erstrecken (insbesondere Eindeutigkeitsbedingungen), sind nicht immer vollständig prüfbar, weil die Prüfung nur mit den lokal verfügbaren Behältern durchgeführt werden kann. Konzeptionell gelten sie aber (ausser bei Metamodellen) dennoch global (vgl. Anhang G Eindeutigkeit von Benutzerschlüsseln).</p>
</div>
<a href="#2_12_C1">&#x203B</a>
<div id="2_12_C1" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>ConstraintDef = ( MandatoryConstraint
                | PlausibilityConstraint
                | ExistenceConstraint
                | UniquenessConstraint
                | SetConstraint ).

MandatoryConstraint = 'MANDATORY' 'CONSTRAINT' [ Constraint-Name ':' ]
                         Logical-Expression ';'.

PlausibilityConstraint = 'CONSTRAINT' [ Constraint-Name ':' ]
                           ( '&lt;=' | '&gt;=' ) Percentage-Dec '%'
                             Logical-Expression ';'.

ExistenceConstraint = 'EXISTENCE' 'CONSTRAINT' [ Constraint-Name ':' ]
                         AttributePath 'REQUIRED' 'IN'
                           ViewableRef ':' AttributePath
                             { 'OR' ViewableRef ':' AttributePath } ';'.

UniquenessConstraint = 'UNIQUE' [ '(' 'BASKET' ')' ]
                         [ Constraint-Name ':' ]
                         [ 'WHERE' Logical-Expression ':' ]
                           ( GlobalUniqueness | LocalUniqueness ) ';'.

GlobalUniqueness = UniqueEl.

UniqueEl = ObjectOrAttributePath { ',' ObjectOrAttributePath }.

LocalUniqueness = '(' 'LOCAL' ')'
                    StructureAttribute-Name
                      { '-&gt;' StructureAttribute-Name } ':'
                               Attribute-Name { ',' Attribute-Name }.

SetConstraint = 'SET' 'CONSTRAINT' [ '(' 'BASKET' ')' ]
                  [ Constraint-Name ':' ]
                  [ 'WHERE' Logical-Expression ':' ]
                    Logical-Expression ';'.</pre>
</div>
</div>
<div class="paragraph">
<p>Konsistenzbedingungen für eine bestimmte Klasse oder Assoziation können auch erst nachträglich, aber innerhalb desselben TOPIC (typischerweise nach der Definition einer Assoziation), definiert werden.</p>
</div>
<a href="#2_12_C2">&#x203B</a>
<div id="2_12_C2" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>ConstraintsDef = 'CONSTRAINTS' 'OF' ViewableRef '='
                   { ConstraintDef }
                 'END' ';'.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ausdrücke">Ausdrücke</h3>
<div class="paragraph">
<p>Ausdrücke (Expression) werden z.B. als Argument von Funktionen oder in Konsistenz- und Selektionsbedingungen verwendet. Bei einem logischen Ausdruck (Logical-Expression) muss der Ergebnistyp Boolean sein. Ausdrücke beziehen sich auf ein Kontextobjekt, d.h. das Objekt, für das man die Bedingung formuliert. Ausgehend von diesem kann ein Attribut, ein Strukturelement, eine Funktion, etc. angesprochen werden. Solche Gegenstände sowie Vergleichsgrössen wie Konstanten und Laufzeitparameter fliessen als Faktoren in Prädikate ein. Prädikate können mittels Operatoren zu einem Ausdruck verknüpft werden.</p>
</div>
<a href="#2_13_C1">&#x203B</a>
<div id="2_13_C1" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>Expression = Term.

Term = Term0 [ '=&gt;' Term0 ].

Term0 = Term1 { ( 'OR' | '+' | '-' ) Term1 }.

Term1 = Term2 { ( 'AND' | '*' | '/' ) Term2 }.

Term2 = Predicate [ Relation Predicate ].

Predicate = ( Factor
            | [ 'NOT' ] '(' Logical-Expression ')'
            | 'DEFINED' '(' Factor ')' ).

Relation = ( '==' | '!=' | '&lt;&gt;' | '&lt;=' | '&gt;=' | '&lt;' | '&gt;' ).</pre>
</div>
</div>
<div class="paragraph">
<p>Bemerkungen zur Bedeutung der Syntaxregeln:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Entsprechend der Syntaxregeln für die Terme bindet der Vergleich (Relation) am stärksten, dann <code>AND</code> bzw. <code>*</code> und <code>/</code>, dann <code>OR</code> bzw. <code>&#43;</code> und <code>-</code>, dann die Implikation (<code>=></code>). <code>AND</code> und <code>OR</code> können nur mit boolschen Prädikaten, <code>&#43;</code>, <code>-</code>, <code>*</code> und <code>/</code> können nur mit numerischen Prädikaten verwendet werden.</p>
</li>
<li>
<p>Mit <code>NOT</code> und dem darauf in Klammer folgenden logischen Ausdruck wird die Verneinung dieses Ausdrucks verlangt.</p>
</li>
<li>
<p>Vergleich von Faktoren. Je nach Typ des Faktors sind einzelne Vergleiche ausgeschlossen:</p>
<div class="ulist">
<ul>
<li>
<p>Bei Zeichenkettentypen sind nur Gleichheit (<code>==</code>) und Ungleichheit (<code>!=</code>, <code>&lt;&gt;</code>) zulässig. Weitergehende Vergleiche sind mittels Funktionen zu realisieren. Dabei muss insbesondere genau definiert werden, wie regionale, sprachliche Besonderheiten wie Umlaute und Akzente behandelt werden.</p>
</li>
<li>
<p>Bei numerischen Datentypen und strukturierten Wertebereichen sind die Vergleiche im üblichen Sinn definiert. Grösser- und Kleiner-Vergleiche sind bei zirkulären Datentypen nicht zweckmässig.</p>
</li>
<li>
<p>Koordinaten können als Ganzes nur auf Gleichheit oder Ungleichheit geprüft werden. Die anderen Vergleiche stehen nur für die einzelnen Komponenten zur Verfügung (s. untenstehenden Kommentar zu Syntaxregel Factor).</p>
</li>
<li>
<p>Bei Aufzählungen sind Grösser- und Kleiner-Vergleiche nur zulässig, wenn die Aufzählung als geordnet definiert wurde. Mit Gleichheit ist exakte Gleichheit gemeint. Sind auch alle Unterelemente eines Knotens gemeint, ist die Funktion isEnumSubVal zu verwenden.</p>
</li>
<li>
<p>Bei Linien kann nur geprüft werden, ob sie undefiniert (<code>== UNDEFINED</code>) sind.</p>
</li>
<li>
<p>Ein Faktor kann auch ein Objekt bezeichnen. Dann kann auf Definiertheit und Gleichheit bzw. Ungleichheit geprüft werden.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Besteht ein Faktor nicht nur aus dem unmittelbaren Gegenstand sondern auch aus dem Pfad, der zu diesem führt, gilt der Gegenstand immer als undefiniert, wenn irgendein Attribut des Pfades nicht definiert ist. Die eingebaute Funktion <code>DEFINED (a.b)</code> ist damit gleichwertig mit <code>(a.b != UNDEFINED)</code>.</p>
</li>
<li>
<p>Ein Ausdruck wird von links nach rechts nur soweit ausgewertet bis dessen Resultatwert klar ist. Mit <code>OR</code> verbundene Folgeterme werden also nur ausgewertet, wenn der bisherige Wert falsch ist. Mit <code>AND</code> verbundene Folgeterme werden dementsprechend nur ausgewertet, wenn der bisherige Wert wahr ist.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die Implikation (<code>=></code>) ist nur dann false, wenn der erste Term true und der zweite Term false ist. <code>a => b</code> ist identisch mit folgender Formulierung: <code>NOT(a) OR b</code>. Das wird typischerweise verwendet, um bedingte Einschränkungen zu formulieren. Zum Beispiel: Die Geometrie ist nur bei einem bestimmten Status obligatorisch.</p>
</div>
<div class="exampleblock">
<div class="title">Example 15. Beispiel:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>CLASS A =
  Status: (gueltig, projektiert);
  Geometrie: SURFACE ...;
MANDATORY CONSTRAINT Status == #gueltig =&gt; DEFINED(Geometrie);
END A;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Faktoren können gemäss den folgenden Syntaxregeln gebildet werden:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Factor = ( ObjectOrAttributePath
         | ( Inspection | 'INSPECTION' Inspection-ViewableRef )
             [ 'OF' ObjectOrAttributePath ]
         | FunctionCall
         | 'PARAMETER' [ Model-Name '.' ] RunTimeParameter-Name
         | Constant ).

ObjectOrAttributePath = PathEl { '-&gt;' PathEl }.

AttributePath = ObjectOrAttributePath.

PathEl = ( 'THIS'
         | 'THISAREA' | 'THATAREA'
         | 'PARENT'
         | ReferenceAttribute-Name
         | AssociationPath
         | Role-Name [ '[' Association-Name ']' ]
         | Base-Name
         | AttributeRef ).

AssociationPath = [ '\' ] AssociationAccess-Name.

AttributeRef = ( Attribute-Name ( [ '[' ( 'FIRST'
                                        | 'LAST'
                                        | AxisListIndex-PosNumber ) ']' ] )
               | 'AGGREGATES' ).

FunctionCall = [ Model-Name '.' [ Topic-Name '.' ] ] Function-Name
                   '(' [ Argument { ',' Argument } ] ')'.

Argument = ( Expression
           | 'ALL' [ '(' RestrictedClassOrAssRef | ViewableRef ')' ] ).</pre>
</div>
</div>
<div class="paragraph">
<p>Faktoren können sich auf Objekte und ihre Attribute beziehen. Dabei können schrittweise ganze Objektpfade gebildet werden. Jedes Konstrukt eröffnet den Weg vom jeweils aktuellen Objekt zum nächsten. Das erste aktuelle Objekt ergibt sich aus dem Kontext, z.B. ein Objekt der Klasse, für die eine Konsistenzbedingung definiert wird.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>THIS</code>: Bezeichnet das so genannte Kontextobjekt, d.h. das aktuelle Objekt einer Klasse, einer Sicht oder einer Grafikdefinition, in dem ein Objektpfad verlangt wird. <code>THIS</code> ist z.B. beim Aufruf einer Funktion als Argument anzugeben, die <code>ANYCLASS</code> oder <code>ANYSTRUCTURE</code> als Parameter hat.</p>
</li>
<li>
<p><code>THISAREA</code> und <code>THATAREA</code>: Bezeichnen die beiden Gebietsobjekte, auf dessen gemeinsamen Rand sich das aktuelle Linienzugsobjekt befindet. Der Einsatz von <code>THISAREA</code> und <code>THATAREA</code> ist nur möglich im Rahmen der Inspektion einer Gebietseinteilung (vgl. Kapitel 2.15 Sichten).</p>
</li>
<li>
<p><code>PARENT</code>: Bezeichnet das Ober-Strukturelement oder Ober-Objekt des aktuellen Strukturelementes oder Objektes. Die Sicht muss dazu eine gewöhnliche Inspektion (keine Gebietsinspektion) sein (vgl. Kapitel 2.15 Sichten).</p>
</li>
<li>
<p>Referenzattribut-Angabe: Bezeichnet das Objekt, das vom aktuellen Objekt bzw. von der aktuellen Struktur aus über das gegebene Referenzattribut zugeordnet ist.</p>
</li>
<li>
<p>Rollenangabe: Die Rollenangabe ist gültig, wenn nur eine einzige entsprechende Rolle existiert. Die Rollenangabe kann dabei sowohl eine Ausgangsrolle (gemäss der das aktuelle Objekt mit der Beziehungsinstanz verbunden ist) wie eine Zielrolle (gemäss der die Beziehungsinstanz mit dem Bezugsobjekt verbunden ist) ansprechen. Ist die Rollenangabe durch den Beziehungsnamen ergänzt, kann sie nur Ausgangsrollen ansprechen. Je nach Stellung des Pfadelementes im Pfad werden die Rollen unterschiedlich gesucht. Ist die Rollenangabe das erste Pfadelement eines Pfades, wird die Rolle in allen Beziehungszugängen der Klasse gesucht, in deren Kontext der Pfad Anwendung findet. Ist die Rollenangabe ein Folgelement des Pfades, wird die Rolle in allen Assoziationen gesucht, die im Thema verfügbar sind, in dem die Klasse definiert ist, in deren Kontext der Pfad Anwendung findet. Dabei kommen nur diejenigen Assoziationen in Frage, die über Rollen mit der Klasse des Vorgängerobjektes des Pfades in Bezug stehen.</p>
</li>
<li>
<p>Basis-Sicht-Angabe: Mit dem (lokalen) Namen der Basis-Sicht wird in der aktuellen Sicht bzw. in der aktuellen abgeleiteten Beziehung das entsprechende (virtuelle) Objekt der Basis-Sicht bezeichnet.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Beim Bezug auf ein Attribut, meint man den Wert des Attributes des Kontextobjekts oder des durch den Pfad bezeichneten Objekts. Zusätzlich werden Pfade, die mit einem Attribut enden, als Attributpfade bezeichnet und auch unabhängig von Faktoren in verschiedenen Syntaxregeln verwendet.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Im Normalfall genügt die Angabe des Attributnamens.</p>
</li>
<li>
<p>Handelt es sich um ein Koordinatenattribut bezeichnet man durch Angabe der Nummer der Achse die entsprechende Komponente der Koordinate. Die erste Komponente hat den Index 1.</p>
</li>
<li>
<p>Das implizite Attribut <code>AGGREGATES</code> ist in Aggregationssichten (vgl. Kapitel 2.15 Sichten) definiert und bezeichnet den Satz (<code>BAG OF</code>) der aggregierten Basisobjekte.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Bei geordneten Unterstrukturen (<code>LIST OF</code>) können einzelne Elemente angesprochen werden. Zulässige Indizes sind:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>FIRST</code>: das erste Element.</p>
</li>
<li>
<p><code>LAST</code>: das letzte Element.</p>
</li>
<li>
<p>Index-Nummer: Der angegebene Index muss kleiner oder gleich der in der Kardinalität festgelegten maximalen Anzahl sein. Das erste Element hat den Index 1. Ist er kleiner oder gleich der in der Kardinalität festgelegten minimalen Anzahl, existiert immer ein entsprechendes Element; ist er grösser ist die Existenz des Elementes nicht gewährleistet. Der Faktor kann als Folge undefiniert werden.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ein Faktor kann auch eine Inspection sein (vgl. Kapitel 2.15 Sichten). Ist ihr ein Objektpfad vorangestellt, muss die damit gegebene Objektklasse mit derjenigen der Inspection übereinstimmen oder eine Erweiterung von dieser sein. Zur Menge der durch die Inspection gelieferten Strukturelemente gehören dann nur diejenigen, die zum Objekt gehören, das mit dem Objektpfad definiert ist.</p>
</div>
<div class="paragraph">
<p>Faktoren können auch Funktionsaufrufe sein. Als ihre Argumente kommen in Frage:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ausdrücke: Der Typ des Ergebnisses des Ausdrucks muss mit dem Argumenttyp kompatibel sein.</p>
</li>
<li>
<p>Wird mit dem Ausdruck eine Rollenangabe gemacht, bezeichnet der Ausdruck die Menge der über die Rolle verbundenen Zielobjekte. Beim formalen Parameter muss <code>OBJECT OF</code> oder <code>OBJECTS OF</code> (nur wenn auf Grund der Modellbeschreibung klar ist, dass nur ein Zielobjekt möglich ist) verlangt sein (vgl. Kapitel 2.14 Funktionen).</p>
</li>
<li>
<p>Alle Objekte (<code>ALL</code>) der Klasse in deren Kontext der Funktionsaufruf erfolgt oder alle Objekte der angegebenen Klasse. Beim formalen Parameter muss <code>OBJECTS OF</code> verlangt sein (vgl. Kapitel 2.14 Funktionen). Damit sind immer alle Objekte gemeint, die dieser Klasse oder ihren Erweiterungen entsprechen.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Als Vergleichswerte kommen Funktionsaufrufe, Laufzeitparameter (vgl. Kapitel 2.16 Darstellungsbeschreibungen) und Konstanten in Frage.</p>
</div>
</div>
<div class="sect2">
<h3 id="_funktionen">Funktionen</h3>
<div class="paragraph">
<p>Eine Funktion wird mittels ihrem Namen, den formalen Parametern sowie einer kurzen Funktionsbeschreibung als Erläuterung definiert. Die Namen der Parameter haben nur dokumentarischen Wert.</p>
</div>
<div class="paragraph">
<p>Als formale Parameter und Funktionsresultat kommen in Frage:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Die für Attribute zulässigen Typen, insbesondere auch Strukturen. Als Argumente (d.h. aktuelle Parameter) kommen entsprechende Faktoren (Regel Factor) in Frage.</p>
</li>
<li>
<p>Wird dabei eine Struktur angegeben, kommen als Argumente primär Strukturelemente in Frage. Es können aber auch Objektpfade angegeben werden, die zu Objekten führen, die eine Erweiterung der Struktur ist. Insbesondere können bei <code>ANYSTRUCTURE</code> beliebige Objektpfade angegeben werden.</p>
</li>
<li>
<p>Wird <code>OBJECT OF</code> angegeben, kommen als Argumente die mittels eines Objektpfads erreichbaren Objekte in Frage, die der Definition entsprechen. Insbesondere können bei <code>OBJECT OF ANYCLASS</code> beliebige Objektpfade angegeben werden. Ähnlich wie bei den Bezügen zu anderen Objekten (vgl. Kapitel 2.6.3 Referenzattribute) können die zulässige Basisklasse und allfällige Einschränkungen definiert und in Erweiterungen spezialisiert werden.</p>
</li>
<li>
<p>Wird <code>OBJECTS OF</code> angegeben, kommen als Argumente Mengen von Objekten einer Klasse in Frage. Alle Objekte der Menge müssen die beim formalen Argument gemachten Anforderungen bereits auf Grund der Modellbeschreibung erfüllen (die beim formalen Argument gemachte Anforderung wirkt also nicht als nachträglicher Filter).</p>
</li>
<li>
<p>Wird <code>ENUMVAL</code> angegeben, kommen als Argumente Attribute und Konstanten in Frage, die ein Blatt einer beliebigen Aufzählung (vgl. Kapitel 2.8.2 Aufzählungen) bezeichnen.</p>
</li>
<li>
<p>Wird <code>ENUMTREEVAL</code> angegeben, kommen als Argumente Attribute und Konstante in Frage, die einen Knoten oder ein Blatt einer beliebigen Aufzählung bezeichnen.</p>
</li>
</ul>
</div>
<a href="#2_14_C1">&#x203B</a>
<div id="2_14_C1" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>FunctionDef = 'FUNCTION' Function-Name
                '(' [ Argument-Name ':' ArgumentType
                { ';' Argument-Name ':' ArgumentType } ] ')'
                ':' ArgumentType [ Explanation ] ';'.

ArgumentType = ( AttrTypeDef
               | ( 'OBJECT' | 'OBJECTS' )
                     'OF' ( RestrictedClassOrAssRef | ViewRef )
               | 'ENUMVAL'
               | 'ENUMTREEVAL' ).</pre>
</div>
</div>
<div class="paragraph">
<p>Es sind folgende Standardfunktionen definiert:</p>
</div>
<div class="ulist">
<ul>
<li>
<p></p>
<div class="listingblock">
<div class="content">
<pre>FUNCTION myClass (Object: ANYSTRUCTURE): STRUCTURE;</pre>
</div>
</div>
<div class="paragraph">
<p>liefert die Klasse des Objektes.</p>
</div>
</li>
<li>
<p></p>
<div class="listingblock">
<div class="content">
<pre>FUNCTION isSubClass (potSubClass: STRUCTURE; potSuperClass: STRUCTURE): BOOLEAN;</pre>
</div>
</div>
<div class="paragraph">
<p>liefert true, wenn die Klasse des ersten Argumentes der Klasse oder einer Unterklasse des zweiten Argumentes entspricht.</p>
</div>
</li>
<li>
<p></p>
<div class="listingblock">
<div class="content">
<pre>FUNCTION isOfClass (Object: ANYSTRUCTURE; Class: STRUCTURE): BOOLEAN;</pre>
</div>
</div>
<div class="paragraph">
<p>liefert true, wenn das Objekt des ersten Argumentes zur Klasse oder zu einer Unterklasse des zweiten Argumentes gehört.</p>
</div>
</li>
<li>
<p></p>
<div class="listingblock">
<div class="content">
<pre>FUNCTION elementCount (bag: BAG OF ANYSTRUCTURE): NUMERIC;</pre>
</div>
</div>
<div class="paragraph">
<p>liefert die Anzahl Elemente, die der Bag (oder die Liste) enthält.</p>
</div>
</li>
<li>
<p></p>
<div class="listingblock">
<div class="content">
<pre>FUNCTION objectCount (Objects: OBJECTS OF ANYCLASS): NUMERIC;</pre>
</div>
</div>
<div class="paragraph">
<p>liefert die Anzahl Objekte, welche die gegebene Objektmenge enthält.</p>
</div>
</li>
<li>
<p></p>
<div class="listingblock">
<div class="content">
<pre>FUNCTION len (TextVal: TEXT): NUMERIC;
FUNCTION lenM (TextVal: MTEXT): NUMERIC;</pre>
</div>
</div>
<div class="paragraph">
<p>liefert die Länge des Textes als Anzahl Zeichen.</p>
</div>
</li>
<li>
<p></p>
<div class="listingblock">
<div class="content">
<pre>FUNCTION trim (TextVal: TEXT): TEXT;
FUNCTION trimM (TextVal: MTEXT): MTEXT;</pre>
</div>
</div>
<div class="paragraph">
<p>liefert den um Leerzeichen am Anfang und Ende befreiten Text.</p>
</div>
</li>
<li>
<p></p>
<div class="listingblock">
<div class="content">
<pre>FUNCTION isEnumSubVal (SubVal: ENUMTREEVAL; NodeVal: ENUMTREEVAL): BOOLEAN;</pre>
</div>
</div>
<div class="paragraph">
<p>liefert true, wenn SubVal ein Unterelement, also ein Unterknoten oder ein Blatt, des Knotens NodeVal ist.</p>
</div>
</li>
<li>
<p></p>
<div class="listingblock">
<div class="content">
<pre>FUNCTION inEnumRange (Enum: ENUMVAL;
                      MinVal: ENUMTREEVAL;
                      MaxVal: ENUMTREEVAL): BOOLEAN;</pre>
</div>
</div>
<div class="paragraph">
<p>liefert true, wenn die Aufzählung zu der Enum gehört, geordnet ist und im Bereich von MinVal und MaxVal liegt. Unterelemente von MinVal oder MaxVal gelten als dazu gehörig.</p>
</div>
</li>
<li>
<p></p>
<div class="listingblock">
<div class="content">
<pre>FUNCTION convertUnit (from: NUMERIC): NUMERIC;</pre>
</div>
</div>
<div class="paragraph">
<p>rechnet den numerischen Wert des Parameters "from" in den numerischen Rückgabewert um und berücksichtigt dabei die Einheiten, die mit dem Parameter und mit der Verwendung des Resultatwertes (typischerweise mit dem Attribut, dem das Resultat zugewiesen wird) verbunden sind. Diese Funktion darf nur angewendet werden, wenn die Argumente von "from" und vom Rückgabeparameter verträglich sind, d.h. wenn ihre Einheiten von einer gemeinsamen Einheit abgeleitet werden.</p>
</div>
</li>
<li>
<p></p>
<div class="listingblock">
<div class="content">
<pre>FUNCTION areAreas (Objects: OBJECTS OF ANYCLASS;
                   SurfaceBag: ATTRIBUTE OF @ Objects
                                         RESTRICTION (BAG OF ANYSTRUCTURE);
                   SurfaceAttr: ATTRIBUTE OF @ SurfaceBag
                                          RESTRICTION (SURFACE)): BOOLEAN;</pre>
</div>
</div>
<div class="paragraph">
<p>prüft, ob die Flächen gemäss Objektmenge (erster Parameter) und Attribut (dritter Parameter) eine Gebietseinteilung bilden. Ist das Flächenattribut direkt Teil der Objektklasse, soll für SurfaceBag <code>UNDEFINED</code> angegeben werden, ansonsten das Strukturattribut, welche das Flächenattribut enthält.</p>
</div>
</li>
<li>
<p></p>
<div class="listingblock">
<div class="content">
<pre>FUNCTION areAreas2 (Objects: OBJECTS OF ANYCLASS;
                   SurfaceBag: TEXT;
                   SurfaceAttr: TEXT): BOOLEAN;</pre>
</div>
</div>
<div class="paragraph">
<p>prüft, ob die Flächen gemäss Objektmenge (erster Parameter) und Attribut (dritter Parameter) eine Gebietseinteilung bilden. Ist das Flächenattribut direkt Teil der Objektklasse, soll für Surface-Bag <code>UNDEFINED</code> angegeben werden, ansonsten der Pfad zum Strukturattribut mit der Struktur, welche das Flächenattribut enthält. Der Attribut-Pfad soll dabei als TEXT-Konstante, aber in INTERLIS-Syntax, angegeben werden.</p>
</div>
<div class="exampleblock">
<div class="title">Example 16. Beispiel:</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>SET CONSTRAINT areAreas2 (ALL,"Geometry-&gt;Surfaces","Surface");</pre>
</div>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sichten">Sichten</h3>
<div class="paragraph">
<p>Sichten (Views) sind Klassen und Strukturen, deren Objekte nicht originär sondern virtuell sind, da sie aus Objekten anderer Sichten oder Klassen bzw. Strukturen abgeleitet werden. Sichten werden unter anderem dazu verwendet, die Grundlagen für Grafiken und spezielle Konsistenzbedingungen zu formulieren. Eine weitere Anwendung ist die Weitergabe der Daten an Empfängersysteme in einer abgeleiteten, in der Regel vereinfachten Form.</p>
</div>
<div class="paragraph">
<p>Sichten werden nur transferiert, wenn sie in einem <code>VIEW TOPIC</code> definiert sind. In diesem Fall erfolgt ihre Übertragung wie der vollständige Transfer (Schlüsselwort <code>FULL</code>) von normalen Klassen, so dass sich ein Datenempfänger (vgl. Kapitel 3 Sequentieller Transfer) nicht darum zu kümmern braucht, wie die (virtuellen) Objekte erzeugt wurden. Sichten können auch explizit vom Transfer ausgeschlossen werden (<code>TRANSIENT</code>), wenn sie nur lokale Bedeutung haben, d.h. wenn sie nur als Basis für andere Sichten dienen. Die inkrementelle Nachlieferung von Sichten ist ausgeschlossen, da Sichtobjekten keine Objektidentifikation zugeordnet wird.</p>
</div>
<div class="paragraph">
<p>Sichten können abstrakt (<code>ABSTRACT</code>) oder konkret sein. Konkrete Sichten können auch auf abstrakten Grundlagen beruhen. Dabei können aber nur diejenigen Grundlagenattribute angesprochen werden, die konkret sind. Ist dies nicht der Fall, muss die Sicht selbst als abstrakt erklärt werden.</p>
</div>
<div class="paragraph">
<p>Sichten können auch erweitert werden (<code>EXTENDED</code> oder <code>EXTENDS</code>). Dabei ist es allerdings nicht möglich das Bildungsgesetz zu verändern. Die Erweiterung dient dazu, Erweiterungen der Sichten, Klassen und Strukturen, auf der die Sicht aufbaut, so zur Kenntnis zu nehmen, dass weitere Selektionen, Attribute und Konsistenzbedingungen formuliert werden können.</p>
</div>
<a href="#2_15_C1">&#x203B</a>
<div id="2_15_C1" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>ViewDef = 'VIEW' View-Name
            Properties&lt;ABSTRACT,EXTENDED,FINAL,TRANSIENT&gt;
            [ FormationDef | 'EXTENDS' ViewRef ]
                { BaseExtensionDef }
                { Selection }
            '='
            [ ViewAttributes ]
            { ConstraintDef }
          'END' View-Name ';'.

ViewRef = [ Model-Name '.' [ Topic-Name '.' ] ] View-Name.</pre>
</div>
</div>
<div class="paragraph">
<p>Mit dem Bildungsgesetz (FormationDef) einer Sicht wird definiert, wie und aus welchen Grundlagen die virtuellen Objekte der Sicht gebildet werden.</p>
</div>
<div class="paragraph">
<p>Die Sicht-Projektion (Schlüsselwort <code>PROJECTION OF</code>) ist die einfachste Sicht. Mit ihr wird die Basis-Klasse (Klasse, Struktur oder Sicht) in veränderten Form (z.B. Attribute nur teilweise und in veränderter Reihenfolge) gesehen.</p>
</div>
<div class="paragraph">
<p>Mit der <em>Verbindung</em> (Schlüsselwort <code>JOIN OF</code>) wird das kartesische Produkt (oder Kreuzprodukt) der Basis-Klassen (Klasse oder Sicht) gebildet, d.h. es gibt so viele Objekte der Verbindungs-Klasse wie es Kombinationen von Objekten der verschiedenen Basis-Klassen gibt. Es können auch so genannte «Outer-Joins», also Verbindungen von Objekten der ersten Basisklasse mit (an sich inexistenten) Leerobjekten der weiteren Basisklassen definiert werden (Angabe &#8220;(OR NULL)&#8221;). Solche Leerobjekte werden beigefügt, wenn zu einer bestimmten Kombination der vorangegangenen Objekte kein Objekt der gewünschten weiteren Klasse gefunden wird. Alle Attribute des Leerobjektes sind undefiniert. Die entsprechenden Sicht-Attribute dürfen darum nicht obligatorisch sein.</p>
</div>
<div class="paragraph">
<p>Die <em>Vereinigung</em> (Schlüsselwort <code>UNION OF</code>) ermöglicht die Verschmelzung verschiedener Basis-Klassen zu einer einzigen Klasse. Einem Attribut der Vereinigungs-Sicht werden typischerweise die Attribute der verschiedenen Basis-Klassen zugewiesen. Der Attributtyp der Basis-Klasse muss mit demjenigen der Vereinigungs-Sicht verträglich sein (gleicher Typ oder Erweiterung davon).</p>
</div>
<div class="paragraph">
<p>Mit der <em>Zusammenfassung</em> (Schlüsselwort <code>AGGREGATION OF</code>) werden alle oder diejenigen Instanzen einer Basismenge zu einer Instanz zusammengefasst, bei denen die verlangte Attributkombination identisch ist. Innerhalb der Aggregationssicht steht mittels dem impliziten Attribut <code>AGGREGATES</code> (vgl. Kapitel 2.13 Ausdrücke) der zugehörige Satz von Originalobjekten als <code>BAG</code> zur Verfügung. Dieses implizite Attribut gehört nicht zu den eigentlichen Attributen der Sicht und wird darum auch dann nicht transferiert, wenn ein Transfer verlangt ist. Es kann z.B. einem entsprechenden Attribut der Aggregationssicht zugewiesen oder als Argument einer Funktion übergeben werden.</p>
</div>
<div class="paragraph">
<p>Mit der <em>Aufschlüsselung</em> (Schlüsselwort <code>INSPECTION OF</code>) erhält man die Menge aller Strukturelemente (mit <code>BAG OF</code> oder <code>LIST OF</code> oder gemäss Linie, Einzelfläche oder Gebietseinteilung definierte), die zu einem (direkten oder indirekten) Unterstrukturattribut einer Objekt-Klasse gehören.</p>
</div>
<div class="paragraph">
<p>Die normale Inspection auf ein Gebietseinteilungsattribut bzw. die Inspection eines Flächenattributs liefert die Ränder aller Gebiete bzw. Flächen dieser Klasse (Struktur SurfaceBoundary). Die Linienzüge jedes Randes (Struktur SurfaceEdge) werden dabei so gebildet, dass ihre Anzahl minimal ist. Aufeinanderfolgende Linienzüge werden also zu einem Linienzug zusammengefasst. Wird eine weitere Inspection auf das Attribut Lines gemacht, erhält man ebenfalls alle Linienzüge (Struktur SurfaceEdge). Auf diese Art kommen sie aber im Falle der Gebietseinteilung doppelt vor (einmal für jedes beteiligte Gebietsobjekt).</p>
</div>
<div class="paragraph">
<p>Mit der Inspection einer Gebietseinteilung (Schlüsselwort <code>AREA INSPECTION OF</code>) erhält man die Linienzüge der Ränder der zur Gebietseinteilung gehörenden Gebiete genau einmal (als Struktur SurfaceEdge). Die beiden Gebiete, die von einem gemeinsamen Linienzug berandet werden, können mit <code>THISAREA</code> bzw. <code>THATAREA</code> angesprochen werden (vgl. Kapitel 2.13 Ausdrücke). Die Linienzüge (Struktur SurfaceEdge) werden wie bei der normalen Inspection möglichst zusammengefasst geliefert.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>STRUCTURE SurfaceEdge =
  Geometry: DIRECTED POLYLINE;
END SurfaceEdge;

STRUCTURE SurfaceBoundary =
  Lines: LIST OF SurfaceEdge;
END SurfaceBoundary;</pre>
</div>
</div>
<div class="paragraph">
<p>Die Inspection eines Linienattributes (<code>POLYLINE</code>) liefert in folgender Struktur alle Kurvenstücke (LineSegments), aus denen die Linienzugsobjekte dieser Klasse zusammengesetzt sind:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>STRUCTURE LineGeometry =
  Segments: LIST OF LineSegment;
MANDATORY CONSTRAINT isOfClass (Segments[FIRST],INTERLIS.StartSegment);
END LineGeometry;</pre>
</div>
</div>
<div class="paragraph">
<p>Dies heisst, dass das erste Kurvenstück ein so genanntes StartSegment der Länge 0 darstellt und alle übrigen, als so genannte LineSegments, entweder Strecken, Kreisbogen oder Kurvenstücke eines anderen Typs sind, gemäss der in der Struktur festgelegten Definition.</p>
</div>
<div class="paragraph">
<p>Mit INTERLIS wird nur eine konzeptionelle Beschreibung der Sicht gemacht. Es wird ausdrücklich nichts unternommen, um eine effiziente Realisierung der Sichten zu unterstützen. Sichten generieren gehört deshalb auch zu einer speziellen Erfüllungsstufe.</p>
</div>
<a href="#2_15_C2">&#x203B</a>
<div id="2_15_C2" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>FormationDef = ( Projection
               | Join
               | Union
               | Aggregation
               | Inspection ) ';'.

Projection = 'PROJECTION' 'OF' RenamedViewableRef.

Join = 'JOIN' 'OF' RenamedViewableRef
         (* ',' RenamedViewableRef
              [ '(' 'OR' 'NULL' ')' ] *).

Union = 'UNION' 'OF' RenamedViewableRef
          (* ',' RenamedViewableRef *).

Aggregation = 'AGGREGATION' 'OF' RenamedViewableRef
                ( 'ALL' | 'EQUAL' '(' UniqueEl ')' ).

Inspection = [ 'AREA' ] 'INSPECTION' 'OF' RenamedViewableRef
                 '-&gt;' StructureOrLineAttribute-Name
                      { '-&gt;' StructureOrLineAttribute-Name }.</pre>
</div>
</div>
<div class="paragraph">
<p>Alle in einer Sicht verwendeten Basissichten erhalten innerhalb der verwendenden Sicht einen Namen, unter dem sie angesprochen werden können. Dieser Name entspricht dem Namen der Basissicht, sofern keine Umbenennung mittels eines expliziten (lokalen) Base-Namens definiert wird. Eine solche Umbenennung ist insbesondere nötig, wenn Verbindungen definiert werden, bei denen mehrmals die gleiche Basisklasse angesprochen wird.</p>
</div>
<a href="#2_15_C3">&#x203B</a>
<div id="2_15_C3" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>RenamedViewableRef = [ Base-Name '~' ] ViewableRef.

ViewableRef = [ Model-Name '.' [ Topic-Name '.' ] ]
              ( Structure-Name
              | Class-Name
              | Association-Name
              | View-Name ).</pre>
</div>
</div>
<div class="paragraph">
<p>Will man in einer Sicht bzw. einer Sichterweiterung Erweiterungen von Basisklassen berücksichtigen und damit zusätzliche Attribute, Selektionen oder Konsistenzbedingungen formulieren, muss eine entsprechende Erweiterungsdefinition (BaseExtensionDef) aufgeführt werden. Sie geht von einer bereits definierten Basissicht aus und beschreibt die Erweiterungen (müssen Erweiterungen der bisherigen Basissicht sein) selbst wieder als Basissichten. Wird eine solche Sichterweiterung innerhalb von Ausdrücken verwendet, liefert sie den Wert "UNDEFINED", wenn das zum virtuellen Objekt gehörige Basisobjekt nicht zu dieser Sichterweiterung passt.</p>
</div>
<a href="#2_15_C4">&#x203B</a>
<div id="2_15_C4" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>BaseExtensionDef = 'BASE' Base-Name 'EXTENDED' 'BY'
                     RenamedViewableRef { ',' RenamedViewableRef }.</pre>
</div>
</div>
<div class="paragraph">
<p>Die durch das Bildungsgesetz definierte Menge der Sichtobjekte kann mittels Bedingungen (Schlüsselwort <code>WHERE</code>) zusätzlich eingeschränkt werden.</p>
</div>
<a href="#2_15_C5">&#x203B</a>
<div id="2_15_C5" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>Selection = 'WHERE' Logical-Expression ';'.</pre>
</div>
</div>
<div class="paragraph">
<p>Was die Attribute (und damit die Empfängersicht) und die Konsistenzbedingungen betrifft, sind Sichten grundsätzlich gleich aufgebaut, wie Klassen und Strukturen. Im Sinne einer Schreiberleichterung wird zusätzlich die Möglichkeit angeboten, alle Attribute und Rollen einer Sichtbasis in der gleichen Reihenfolge zu übernehmen (<code>ALL OF</code>). Dies ist bei Vereinigungen und bei AREA-Inspektionen unsinnig und darum auch unzulässig.</p>
</div>
<a href="#2_15_C6">&#x203B</a>
<div id="2_15_C6" class="listingblock">
<div class="title">Syntaxregel:</div>
<div class="content">
<pre>ViewAttributes = [ 'ATTRIBUTE' ]
                     { 'ALL' 'OF' Base-Name ';'
                     | AttributeDef
                     | Attribute-Name
                         Properties &lt;ABSTRACT,EXTENDED,FINAL,TRANSIENT&gt;
                           ':=' Factor ';' }.</pre>
</div>
</div>
<div class="paragraph">
<p>In den einfachen Fällen, wo ein Attribut einer Basissicht übernommen wird, genügt es den Attributnamen und die Zuordnung des Basisattributes anzugeben. Solche Definitionen sind immer final, können also nicht mehr erweitert werden.</p>
</div>
<div class="paragraph">
<p>Bei Vereinigungen muss für jedes Attribut vollständig angegeben werden, aus welchen Attributen der Basis-Klassen es abgeleitet wird. Ein Attribut muss sich aber nicht auf alle Basis-Klassen beziehen, sofern der Attributtyp undefinierte Werte zulässt. Für die fehlenden Basis-Objekte gilt es als undefiniert.</p>
</div>
<div class="paragraph">
<p>Das folgende Beispiel zeigt, wie eine Sicht beschrieben werden kann, die ermöglicht, mit Hilfe des Konstrukts <code>DERIVED FROM</code> eine eigentliche Beziehung zu definieren (vgl. Kapitel 2.7. Eigentliche Beziehungen).</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>DOMAIN
  CHSurface = ... ;

FUNCTION Intersect (Surface1: CHSurface;
                    Surface2: CHSurface): BOOLEAN;

CLASS A =
  a1: CHSurface;
END A;

CLASS B =
  b1: CHSurface;
END B;

VIEW ABIntersection
  JOIN OF A,B;
  WHERE Intersect (A.a1,B.b1);
  =
END ABIntersection;

ASSOCIATION IntersectedAB
  DERIVED FROM ABIntersection =
  ARole –- A := ABIntersection -&gt; A;
  BRole –- B := ABIntersection -&gt; B;
END IntersectedAB;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_darstellungsbeschreibungen">Darstellungsbeschreibungen</h3>
<div class="paragraph">
<p>Eine Darstellungsbeschreibung besteht aus Grafikdefinitionen, die immer auf einer Sicht oder einer Klasse basieren (Schlüsselwort <code>BASED ON</code>). Mit einer Grafikdefinition wird konzeptionell versucht, jedem Objekt dieser Sicht oder Klasse – sofern es nicht mit einer Selektion (Schlüsselwort <code>WHERE</code>), die sich auf die Sicht oder Klasse bezieht, noch ausgefiltert wurde – durch eine oder mehrere Zeichnungsregeln (Regel DrawingRule) je eine Grafiksignatur zuzuordnen (Punktsymbol, Linie, Flächenfüllung, Textanschrift) und damit ein oder mehrere Grafikobjekte zu erzeugen, welche die entsprechende Darstellung auslösen (siehe Figur 5). Dazu muss jede Zeichnungsregel eine Grafiksignatur (mit Metaobjekt-Namen) auswählen und Argumente festlegen für die dazugehörigen Parameter.</p>
</div>
<div class="paragraph">
<p>In runden Klammern (Regel Properties) können die Vererbungseigenschaften definiert werden. Ist eine Grafikdefinition abstrakt, entstehen aus ihr keine Grafikobjekte. Die Erweiterung einer Grafikdefinition muss auf der gleichen Klasse basieren wie die Basisgrafikdefinition (<code>BASED ON</code> fehlt) oder auf einer ihrer Erweiterungen.</p>
</div>
<div class="paragraph">
<p>Die Zeichnungsregel wird mit einem Namen identifiziert, der innerhalb der Darstellungsbeschreibung eindeutig ist, damit sie in Erweiterungen aufgegriffen und verfeinert werden kann (Anmerkung: verfeinert im Sinne der Spezialisierung aber auch zusätzlicher Parameterwerte). Existieren zu einer Zeichnungsregel Erweiterungen (in erweiternden Darstellungsbeschreibungen), erzeugen diese keine neuen Grafikobjekte, sondern beeinflussen nur die Signaturparameter des durch die Basisdefinition vorgegebenen Grafikobjektes. Es ist zulässig zu einer Grafikdefinition mehrere Erweiterungen zu definieren. Sie werden alle (in der Reihenfolge ihrer Definition) ausgewertet. Dies kann insbesondere genutzt werden, um für verschiedene Aspekte (z.B. die verschiedenen Zeichnungsregeln) verschiedene Erweiterungsstapel vorzusehen. Anschliessend werden die verschiedenen Signaturparameter bestimmt. Die Definition kann dabei in mehreren Schritten erfolgen. Für jeden Parameter gilt derjenige Wert, der als letztes definiert wurde. Dabei wird zuerst die primäre Definition ausgewertet, dann allfällige Erweiterungen. Parameter-Zuweisungen können zudem noch an eine Bedingung (Regel CondSignParamAssignment) geknüpft werden, d.h. die Zuweisung erfolgt nur, wenn die Bedingung erfüllt ist. Wird die Selektionsbedingung nicht erfüllt, fallen auch allfällige Untererweiterungen ausser Betracht. Innerhalb von Zuweisungsregeln (Syntaxregel CondSignParamAssignment) gilt für Attribut- und Rollennamen der Namensraum der Basisklasse oder -Sicht und für Metaobjekt-, Funktions- und Laufzeitparameternamen der Namensraum der Grafikdefinition.</p>
</div>
<div class="paragraph">
<p>Sobald Zeichnungsregeln konkret sind, muss definiert sein, zu welcher Klasse die zuzuordnenden Grafiksignaturen gehören. In Erweiterungen von Zeichnungsregeln kann diese Klasse von Grafiksignaturen durch eine Klasse ersetzt werden, welche eine Erweiterung der bisherigen ist. "Verantwortliche" Klasse von Grafiksignaturen ist zunächst diejenige, zu der die zugeordnete Grafiksignatur-Objekt (ein Metaobjekt) gehört. Den in der "verantwortlichen" Klasse eingeführten Parameter müssen die konkreten Werte zugewiesen werden. Entsprechen die angegebenen Parameter einer erweiterten Klasse von Grafiksignaturen, wird diese zur "verantwortlichen" Klasse, sofern die Klasse der Grafiksignatur der Zeichnungsregel mit ihr übereinstimmt oder eine Erweiterung von ihr ist.</p>
</div>
<div class="paragraph">
<p>In den erwähnten Bedingungen dürfen Objekt-Attribute (s. AttributePath in Regel SignParamAssignment) auch mit Laufzeit-Parametern verglichen werden (vgl. Kapitel 2.11 Laufzeitparameter). Laufzeitparameter, die für die Grafik relevant sind (z.B. der Massstab der gewünschten Grafik), werden typischerweise in Symbologiemodellen definiert, da sie wie die Parameter der Signaturen die von einem System erwarteten Grafikfähigkeiten beschreiben. Für einen Parameter einer Grafiksignatur, der ein Metaobjekt verlangt, muss eine Metaobjekt-Referenz angegeben werden (vgl. Kapitel 2.10 Umgang mit Metaobjekten).</p>
</div>
<div class="paragraph">
<p>Der Wert eines gewöhnlichen Parameters einer Grafiksignatur wird als Konstante oder als Verweis auf ein Objekt-Attribut angegeben (s. Factor in Regel SignParamAssignment). Dabei wird immer auf das Attribut eines Objektes aus der Basis-Klasse oder Basis-Sicht verwiesen, welches mit Hilfe von <code>BASED ON</code> spezifiziert wurde.</p>
</div>
<div class="paragraph">
<p>Da die Darstellung häufig von Attributen abhängt, die mittels Aufzählungen definiert sind, wird dafür ein spezielles Konstrukt angeboten: Der Aufzählbereich. Ein Aufzählbereich ist entweder ein einzelner Knoten des Aufzähltyp-Baums oder ein Intervall von Knoten definiert durch zwei Knoten der gleichen Stufe. Intervalldefinitionen sind allerdings nur zulässig, wenn es sich um einen geordneten Aufzähltyp handelt. Wenn der Attributwert in einem der angegebenen Aufzählbereiche liegt, wird der entsprechende Parameter-Wert gesetzt. Die konkreten Signaturen ergeben sich aus dem Signaturenmodell. Dort werden die Signaturklassen samt den für ihre Anwendung nötigen Laufzeitparametern (Schlüsselwort <code>PARAMETER</code>) definiert. Es ist zulässig, dass numerische Datentypen nur abstrakt definiert sind.</p>
</div>
<a href="#2_16_C1">&#x203B</a>
<div id="2_16_C1" class="listingblock">
<div class="title">Syntaxregeln:</div>
<div class="content">
<pre>GraphicDef = 'GRAPHIC' Graphic-Name Properties&lt;ABSTRACT,FINAL&gt;
               [ 'EXTENDS' GraphicRef ]
               [ 'BASED' 'ON' ViewableRef ] '='
               { Selection }
               { DrawingRule }
             'END' Graphic-Name ';'.

GraphicRef = [ Model-Name '.' [ Topic-Name '.' ] ] Graphic-Name.

DrawingRule = DrawingRule-Name Properties&lt;ABSTRACT,EXTENDED,FINAL&gt;
                [ 'OF' Sign-ClassRef ]
                    ':' CondSignParamAssignment
                        { ',' CondSignParamAssignment } ';'.

CondSignParamAssignment = [ 'WHERE' Logical-Expression ]
                          '(' SignParamAssignment
                              { ';' SignParamAssignment } ')'.

SignParamAssignment = SignParameter-Name
                        ':=' ( '{' MetaObjectRef '}'
                             | Factor
                             | 'ACCORDING' Enum-AttributePath
                                 '(' EnumAssignment
                                     { ',' EnumAssignment } ')' ).

EnumAssignment = ( '{' MetaObjectRef '}' | Constant )
                   'WHEN' 'IN' EnumRange.

EnumRange = EnumerationConst [ '..' EnumerationConst ].</pre>
</div>
</div>
<div class="paragraph">
<p>Für die Verwendung in Signaturenmodellen ist die Klasse SIGN durch INTERLIS vordefiniert:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CLASS SIGN (ABSTRACT) EXTENDS METAOBJECT =
  PARAMETER
    Sign: METAOBJECT;
END SIGN;</pre>
</div>
</div>
<div class="paragraph">
<p>Für konkrete Signaturenklassen ist diese Basis-Klasse zu erweitern. Dabei werden einerseits die konkreten Daten, andererseits die Parameter definiert.</p>
</div>
<div class="paragraph">
<p>Das folgende Beispiel skizziert, wie aus einer Punktklasse mit Koordinaten, Zeichenkette und einer Aufzählung als Attribute die entsprechenden Grafiken (Punktsymbole und Textanschriften) definiert werden.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Das Signaturenmodell sei wie folgt definiert:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SYMBOLOGY MODEL SimpleSignsSymbology (en) AT "http://www.interlis.ch/"
  VERSION "2005-06-16" =

  DOMAIN
    S_COORD2 (ABSTRACT) = COORD NUMERIC, NUMERIC;


  TOPIC SignsTopic =

    CLASS Symbol EXTENDS INTERLIS.SIGN =
      PARAMETER
        Pos: MANDATORY S_COORD2;
    END Symbol;

    CLASS Textlabel EXTENDS INTERLIS.SIGN =
      PARAMETER
        Pos: MANDATORY S_COORD2;
        Text: MANDATORY TEXT;
    END Textlabel;

  END SignsTopic;

END SimpleSignsSymbology.</pre>
</div>
</div>
<div class="paragraph">
<p>Zu diesem Signaturenmodell seien konkrete (Signaturen-)Objekte erfasst und unter dem Signaturenbibliotheks-Namen (d.h. Behälter-Namen) SimpleSignsBasket abgelegt worden. Die erfassten Signaturobjekte (Klasse Symbol) heissen Punktsignatur, Quadratsignatur und Kreissignatur, die Schriftarten (Klasse Textlabel) Schrift1 und Schrift2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MODEL DatenModell (de) AT "http://www.interlis.ch/"
  VERSION "2005-06-16" =

  DOMAIN
    LKoord = COORD
      0.000 .. 200.000 [m],
      0.000 .. 200.000 [m],
      ROTATION 2 -&gt; 1;

  TOPIC PunktThema =

    DOMAIN
      Punktart = (Stein
                   (gross,
                    klein),
                  Bolzen,
                  Rohr,
                  Kreuz,
                  unvermarkt) ORDERED;

    CLASS Punkt =
      Lage: LKoord;      !! LKoord sei ein Koordinaten-Wertebereich
      Art: Punktart;
      PunktName: TEXT*12;
    END Punkt;

  END PunktThema;

END DatenModell.


MODEL SimpleGrafik (de) AT "http://www.interlis.ch/"
  VERSION "2005-06-16" =

  IMPORTS DatenModell;
  IMPORTS SimpleSignsSymbology;

  SIGN BASKET SimpleSignsBasket ~ SimpleSignsSymbology.SignsTopic;

  TOPIC PunktGrafikenThema =
    DEPENDS ON DatenModell.PunktThema;

    GRAPHIC SimplePunktGrafik BASED ON DatenModell.PunktThema.Punkt =

      Symbol OF SimpleSignsSymbology.SignsTopic.Symbol: (
        Sign := {Punktsignatur};
        Pos := Lage
      );

    END SimplePunktGrafik;

  END PunktGrafikenThema;

END SimpleGrafik.</pre>
</div>
</div>
<div class="paragraph">
<p>Mit dieser Grafik (basierend auf dem Symbologiemodell SimpleSignsSymbology und auf der Darstellungsbeschreibung SimpleGrafik) werden für alle Punkte aus Klasse Punkt einfache Punktsignaturen (dots) gezeichnet.</p>
</div>
<div class="paragraph">
<p>Nun kann man sich auch vorstellen, dass jemand eine verbesserte Grafik wünscht. Die Verbesserung kann dabei in verschiedener Hinsicht erfolgen, zum Beispiel:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Es soll zusätzliche Signaturen geben (Punktsignaturen Kreuzsignatur, Dreiecksignatur). Dafür braucht es eine zusätzliche Signaturenbibliothek mit dem Namen SimpleSignsPlusBasket. Da sie die Bibliothek SimpleSignsBasket erweitert, werden die Signaturobjekte (bzw. Metaobjekte) in beiden Bibliotheken gesucht. Würde man die Bibliothek SimpleSignsBasket direkt erweitern (<code>EXTENDED</code>) würde für alle im Modell GrafikPlus erzeugten Grafiken&#8201;&#8212;&#8201;inklusive derjenigen, die vom Modell SimpleGrafik geerbt wurden&#8201;&#8212;&#8201;die Signaturen zuerst in der erweiterten Bibliothek, dann in der Basisbibliothek (SimpleSignsBasket) gesucht.</p>
</li>
<li>
<p>Die Signaturen sollen skalierbar sein, damit z.B. grosse und kleine Quadrate mit der gleichen Punktsignatur erstellt werden können. Dafür braucht es ein erweitertes Signaturenmodell, in dem der Skalierungsmassstab der Signaturen als Parameter definiert ist. Da die Signaturklassen keine zusätzlichen Attribute aufweisen, müssen nicht notwendigerweise entsprechende Bibliotheken existieren.</p>
</li>
<li>
<p>Je nach Punktart sollen verschiedene Punktsignaturen gezeichnet werden: Steine als grosse bzw. kleine Quadrate, Bolzen als Kreise und Kreuze und Rohre mit der Kreuzsignatur. Die eigentliche Punktsignatur kann direkt aus der Punktart abgeleitet werden. Der Skalierungsfaktor für kleine Quadrate zur Darstellung von kleinen Steinen, wird mit einer zusätzlichen Zuweisung erreicht. Unvermarkte Punkte werden weiterhin als einfache Punktsignaturen gezeichnet. Darum braucht es für diesen Fall keine neue Zuweisung.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>SYMBOLOGY MODEL ScalableSignsSymbology (en) AT "http://www.interlis.ch/"
  VERSION "2005-06-16" =

  IMPORTS SimpleSignsSymbology;

  TOPIC ScalableSignsTopic EXTENDS SimpleSignsSymbology.SignsTopic =

    CLASS Symbol (EXTENDED) =
      PARAMETER
        ScaleFactor: 0.1 .. 10.0;  !! Default 1.0
    END Symbol;

  END ScalableSignsTopic;

END ScalableSignsSymbology.


MODEL GrafikPlus (de) AT "http://www.interlis.ch/"
  VERSION "2005-06-16" =

  IMPORTS SimpleGrafik;
  IMPORTS SimpleSignsSymbology;
  IMPORTS ScalableSignsSymbology;

  SIGN BASKET SimpleSignsPlusBasket EXTENDS
    SimpleGrafik.SimpleSignsBasket ~ ScalableSignsSymbology.ScalableSignsTopic;

  TOPIC PunktGrafikenPlusTop EXTENDS SimpleGrafik.PunktGrafikenThema =

    GRAPHIC PunktGrafikPlus EXTENDS SimplePunktGrafik =

      Symbol (EXTENDED) OF ScalableSignsSymbology.ScalableSignsTopic.Symbol: (
        Sign := ACCORDING Art (
          {Quadratsignatur} WHEN IN #Stein,
          {Kreissignatur} WHEN IN #Bolzen,
          {Kreuzsignatur} WHEN IN #Rohr .. #Kreuz
        )
      ),
      WHERE Art == #Stein.klein (
          ScaleFactor := 0.5
      );

      Text OF SimpleSignsSymbology.Signs.Textlabel: (
        Sign := {Schrift1};
        Pos := Lage;
        Text := PunktName
      );

    END PunktGrafikPlus;

  END PunktGrafikenPlusTop;

END GrafikPlus.</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Das ist keine konzeptionelle Festlegung, zur Vereinfachung wird sie hier aber ermöglicht.
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. (Internet Assigned Numbers Authority) Official Names for Character Sets, ed. Keld Simonsen et al. <a href="http://www.iana.org/assignments/character-sets" class="bare">http://www.iana.org/assignments/character-sets</a>
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. Namespaces in XML 1.0 (Third Edition), Tim Bray et al., eds., W3C, 8 December 2009. <a href="http://www.w3.org/TR/REC-xml-names" class="bare">http://www.w3.org/TR/REC-xml-names</a>
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. Das ist keine konzeptionelle Festlegung, zur Vereinfachung wird sie hier aber ermöglicht.
</div>
<div class="footnote" id="_footnotedef_5">
<a href="#_footnoteref_5">5</a>. EPSG Geodetic Parameter Dataset. <a href="https://epsg.org" class="bare">https://epsg.org</a>
</div>
</div>
</body>
</html>